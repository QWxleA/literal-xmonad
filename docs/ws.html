<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-12-26 Sat 14:02 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Literal XMonad</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Alex Qwxlea" />
<link rel="stylesheet" type="text/css" href="res/org.css"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Literal XMonad</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org4cb1de7">Build Xmonad</a></li>
<li><a href="#org94e89ef">app/Main.hs</a></li>
<li><a href="#orgc5cef1f">src/Options.hs</a></li>
<li><a href="#orga8fb447">src/MyKeys.hs</a></li>
<li><a href="#org1fd0dc7">src/MyBar.hs</a></li>
<li><a href="#org1cd0d64">src/MyLayoutHook.hs</a></li>
<li><a href="#org32d87a9">src/MyManageHook.hs</a></li>
<li><a href="#orgb861bc1">src/MyCheatsheet</a></li>
<li><a href="#orgee4ef16">src/MyScratchpads</a></li>
<li><a href="#org0047c41">src/MyWorkspaces</a></li>
<li><a href="#orgdf0ba2c">External scripts</a></li>
<li><a href="#org45976d0">Xmobar</a></li>
<li><a href="#org86846b7">Thanks</a></li>
</ul>
</div>
</div>
<p>
<b><b>Note:</b></b> The source of this document does not always look nice, but otherwise my haskell sources wouldn't line up correctly
</p>

<p>
Use Emacs to export this configuration, but be carefull as it might also overwrite other settings!
</p>

<div id="outline-container-org4cb1de7" class="outline-2">
<h2 id="org4cb1de7">Build Xmonad</h2>
<div class="outline-text-2" id="text-org4cb1de7">
<p>
Install dependencies:
</p>

<pre class="example" id="org4fa293e">
  sudo pacman -S stack
</pre>

<ul class="org-ul">
<li>stack init  :  Create stack project config from cabal or hpack package specifications</li>
<li>stack build :  Build the package(s) in this directory/configuration</li>
<li>stack install: Shortcut for 'build &#x2013;copy-bins'</li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 1: </span>Xmonad build script</label><pre class="src src-sh">    <span class="org-comment-delimiter">#</span><span class="org-comment">!/bin/sh</span>
    <span class="org-comment-delimiter">#</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">As of 0.13, xmonad --recompile will look for a custom build script.</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">Keep &amp; after notify-send, if dunst is not running the process will hang</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">set -e</span>

    <span class="org-variable-name">EXEC_PATH</span>=<span class="org-string">"$1"</span>
    <span class="org-variable-name">ICON</span>=<span class="org-string">"~/Pictures/Icons/Xmonad-logo.svg.png"</span>
    <span class="org-builtin">echo</span> <span class="org-string">"DB: EXEC_PATH: $EXEC_PATH"</span>

    die() {
        notify-send <span class="org-string">"Xmonad build FAILED!"</span> <span class="org-string">"$1"</span> -i <span class="org-string">"$ICON"</span> &amp;
        <span class="org-builtin">echo</span> <span class="org-string">"Xmonad build FAILED! $1"</span>
        <span class="org-keyword">exit</span> 1
        }

    <span class="org-builtin">cd</span> ~/.config/xmonad
    notify-send <span class="org-string">"Xmonad"</span> <span class="org-string">"Build started ($1)"</span> -i <span class="org-string">"$ICON"</span> &amp;
    <span class="org-comment-delimiter">#</span><span class="org-comment">stack build || stack init</span>
    stack install || die <span class="org-string">"Build error ($@)"</span>
    ln -sf ~/.local/bin/xmonad $<span class="org-variable-name">EXEC_PATH</span> <span class="org-comment-delimiter">#</span><span class="org-comment">!!</span>
    xmonad --restart &amp;&amp; notify-send <span class="org-string">"Xmonad build SUCCES!"</span> <span class="org-string">"Restarted at $(date)"</span> -i <span class="org-string">"$ICON"</span> &amp;
</pre>
</div>

<p>
<b>Note:</b> Fitspec is needed for the cheatsheet.
</p>

<div class="org-src-container">
<pre class="src src-yaml1">    name: myXmonad
    version: 0.0.7

    dependencies:
        - base
        - xmonad
        - xmonad-contrib
        - split
        - fitspec

    library:
        source-dirs: src

    executables:
        xmonad:
            source-dirs:  app
            main:         Main.hs
            dependencies: myXmonad
            ghc-options:
                - -threaded
                - -rtsopts
                - -with-rtsopts=-N
                - -Wall
</pre>
</div>
</div>
</div>

<div id="outline-container-org94e89ef" class="outline-2">
<h2 id="org94e89ef">app/Main.hs</h2>
<div class="outline-text-2" id="text-org94e89ef">
</div>

<div id="outline-container-org11aa9a5" class="outline-3">
<h3 id="org11aa9a5">Header</h3>
<div class="outline-text-3" id="text-org11aa9a5">
<div class="org-src-container">
<pre class="src src-haskell">     <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
     <span class="org-comment-delimiter">--                                                                       </span><span class="org-comment">--</span>
     <span class="org-comment-delimiter">--     </span><span class="org-comment">_|      _|  _|      _|                                      _|    --</span>
     <span class="org-comment-delimiter">--       </span><span class="org-comment">_|  _|    _|_|  _|_|    _|_|    _|_|_|      _|_|_|    _|_|_|    --</span>
     <span class="org-comment-delimiter">--         </span><span class="org-comment">_|      _|  _|  _|  _|    _|  _|    _|  _|    _|  _|    _|    --</span>
     <span class="org-comment-delimiter">--       </span><span class="org-comment">_|  _|    _|      _|  _|    _|  _|    _|  _|    _|  _|    _|    --</span>
     <span class="org-comment-delimiter">--     </span><span class="org-comment">_|      _|  _|      _|    _|_|    _|    _|    _|_|_|    _|_|_|    --</span>
     <span class="org-comment-delimiter">--                                                                       </span><span class="org-comment">--</span>
     <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
     <span class="org-comment-delimiter">-- </span><span class="org-comment">Alex <a href="mailto:qwxlea%40gmail.com">&lt;qwxlea@gmail.com&gt;</a>                                               --</span>
     <span class="org-comment-delimiter">-- </span><span class="org-comment">https://github.com/qwxlea                                             --</span>
     <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
     <span class="org-comment-delimiter">-- </span><span class="org-comment">current as of XMonad 0.15</span>
     <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
     <span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">Main</span> <span class="org-haskell-keyword">where</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ed7cf3" class="outline-3">
<h3 id="org8ed7cf3">Body</h3>
<div class="outline-text-3" id="text-org8ed7cf3">
<p>
<b>Modules needed:</b>
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad</span>                                   <span class="org-comment-delimiter">-- </span><span class="org-comment">standard xmonad library</span>
<span class="linenr"> 2: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Config.Desktop</span>                    <span class="org-comment-delimiter">-- </span><span class="org-comment">default desktopConfig</span>
<span class="linenr"> 3: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Hooks.EwmhDesktops</span>                <span class="org-comment-delimiter">-- </span><span class="org-comment">Fixes the automatic fullscreening &amp; wmctrl</span>
<span class="linenr"> 4: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.NamedActions</span> (addDescrKeys') <span class="org-comment-delimiter">-- </span><span class="org-comment">Don't use default key bindings</span>
<span class="linenr"> 5: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.SpawnOnce</span> (spawnOnce)        <span class="org-comment-delimiter">-- </span><span class="org-comment">For running autostart only once (on login)</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Actions.DynamicProjects</span>           <span class="org-comment-delimiter">-- </span><span class="org-comment">For WS.projects</span>
<span class="linenr"> 8: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.Run</span>(spawnPipe)               <span class="org-comment-delimiter">-- </span><span class="org-comment">For xmobar src/MyBar</span>
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Options</span>                                  <span class="org-comment-delimiter">-- </span><span class="org-comment">All stored under /src/</span>
<span class="linenr">11: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">MyKeys</span>
<span class="linenr">12: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">MyCheatsheet</span>
<span class="linenr">13: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">MyBar</span>
<span class="linenr">14: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">MyLayoutHook</span>
<span class="linenr">15: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">MyManageHook</span>
<span class="linenr">16: </span>     <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">MyWorkspaces</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">WS</span>
<span class="linenr">17: </span>
</pre>
</div>

<p>
main function, high ho, silver!:
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr">18: </span>     main <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span>
<span class="linenr">19: </span>     main <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">20: </span>         xmproc <span class="org-haskell-operator">&lt;-</span> spawnPipe <span class="org-string">"xmobar ~/.config/xmobar/xmobarrc.hs"</span>
<span class="linenr">21: </span>         <span class="org-comment-delimiter">-- </span><span class="org-comment">xmproc &lt;- spawnPipe "xmobar ~/.config/xmobar/xmobarDebug.hs"</span>
<span class="linenr">22: </span>
<span class="linenr">23: </span>         xmonad                                                        <span class="org-comment-delimiter">-- </span><span class="org-comment">applied over defaults</span>
<span class="linenr">24: </span>             <span class="org-haskell-operator">$</span> dynamicProjects WS.projects                             <span class="org-comment-delimiter">-- </span><span class="org-comment">See MyWorkspaces</span>
<span class="linenr">25: </span>             <span class="org-haskell-operator">$</span> addDescrKeys' (myCheatsheetKey, myCheatsheet) myKeys    <span class="org-comment-delimiter">-- </span><span class="org-comment">See myCheatsheet</span>
<span class="linenr">26: </span>             <span class="org-haskell-operator">$</span> ewmh desktopConfig                                      <span class="org-comment-delimiter">-- </span><span class="org-comment">xdotool and wmtrl are great!</span>
<span class="linenr">27: </span>               { modMask            <span class="org-haskell-operator">=</span> myModMask
<span class="linenr">28: </span>               , terminal           <span class="org-haskell-operator">=</span> myTerminal
<span class="linenr">29: </span>               , borderWidth        <span class="org-haskell-operator">=</span> myBorderWidth
<span class="linenr">30: </span>               , normalBorderColor  <span class="org-haskell-operator">=</span> myNormalBorderColor
<span class="linenr">31: </span>               , focusedBorderColor <span class="org-haskell-operator">=</span> myFocusedBorderColor
<span class="linenr">32: </span>               , manageHook         <span class="org-haskell-operator">=</span> myManageHook
<span class="linenr">33: </span>               , layoutHook         <span class="org-haskell-operator">=</span> myLayoutHook
<span class="linenr">34: </span>               , logHook            <span class="org-haskell-operator">=</span> myLogHook xmproc
<span class="linenr">35: </span>               , workspaces         <span class="org-haskell-operator">=</span> WS.names
<span class="linenr">36: </span>               , startupHook        <span class="org-haskell-operator">=</span> spawnOnce myAutostart
<span class="linenr">37: </span>               }
<span class="linenr">38: </span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc5cef1f" class="outline-2">
<h2 id="orgc5cef1f">src/Options.hs</h2>
<div class="outline-text-2" id="text-orgc5cef1f">
<p>
The idea is to set up all the defaults here, instead all over the place. So far my success has been limited.
</p>

<p>
<b>Modules needed:</b>
</p>

<div class="org-src-container">
<pre class="src src-haskell">    <span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">Options</span> <span class="org-haskell-keyword">where</span>

    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad</span>
    <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">XMonad.Actions.Search</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">S</span>

    <span class="org-comment-delimiter">-- </span><span class="org-comment">The modifier key to be used for most keybindings</span>
    <span class="org-comment-delimiter">-- </span><span class="org-comment">I have it set to super (the Windows key)</span>
    myModMask <span class="org-haskell-operator">::</span> <span class="org-haskell-type">KeyMask</span>
    myModMask  <span class="org-haskell-operator">=</span> mod4Mask
</pre>
</div>

<p>
Default applications, scripts end with a capital <i>S</i>, like <code>screenshotS</code>.
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>    <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
<span class="linenr"> 2: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">Applications                                                         ---</span>
<span class="linenr"> 3: </span>    <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>    myTerminal       <span class="org-haskell-operator">=</span> <span class="org-string">"alacritty"</span>
<span class="linenr"> 6: </span>    myEditor         <span class="org-haskell-operator">=</span> <span class="org-string">"emacsclient -c"</span>
<span class="linenr"> 7: </span>    myBrowser        <span class="org-haskell-operator">=</span> <span class="org-string">"qutebrowser"</span>
<span class="linenr"> 8: </span>    myFileManager    <span class="org-haskell-operator">=</span> myTerminal <span class="org-haskell-operator">++</span> <span class="org-string">" -e ranger "</span>
<span class="linenr"> 9: </span>    myGuiFileManager <span class="org-haskell-operator">=</span> <span class="org-string">"pcmanfm"</span>
<span class="linenr">10: </span>    myPdfReader      <span class="org-haskell-operator">=</span> <span class="org-string">"zathura"</span>
<span class="linenr">11: </span>    myPrintScreen    <span class="org-haskell-operator">=</span> <span class="org-string">"screenshotS"</span>
<span class="linenr">12: </span>    myAudiocontrol   <span class="org-haskell-operator">=</span> <span class="org-string">"pavucontrol"</span>
<span class="linenr">13: </span>
<span class="linenr">14: </span>    <span class="org-haskell-keyword">data</span> <span class="org-haskell-type">Bar</span> <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Taffybar</span> <span class="org-haskell-operator">|</span> <span class="org-haskell-constructor">XMobar</span> <span class="org-haskell-operator">|</span> <span class="org-haskell-constructor">Tint2</span> <span class="org-haskell-keyword">deriving</span> (<span class="org-haskell-constructor">Eq</span>)
<span class="linenr">15: </span>    myBar <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Bar</span>
<span class="linenr">16: </span>    myBar <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">XMobar</span>
<span class="linenr">17: </span>
<span class="linenr">18: </span>    myMenu <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span>
<span class="linenr">19: </span>    myMenu <span class="org-haskell-operator">=</span> <span class="org-string">"rofi -dmenu -i -p"</span>  <span class="org-comment-delimiter">-- </span><span class="org-comment">For scripts that require user input</span>
<span class="linenr">20: </span>
<span class="linenr">21: </span>    myAppM <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span>
<span class="linenr">22: </span>    myAppM <span class="org-haskell-operator">=</span> <span class="org-string">"rofi -show drun"</span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">Start software</span>
<span class="linenr">23: </span>
</pre>
</div>

<p>
Default file paths.
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>    <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
<span class="linenr"> 2: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">File Paths                                                           ---</span>
<span class="linenr"> 3: </span>    <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>    myConfigDir       <span class="org-haskell-operator">=</span> <span class="org-string">"~/.config/xmonad/src/"</span>       <span class="org-comment-delimiter">-- </span><span class="org-comment">XMonad-related config</span>
<span class="linenr"> 6: </span>    myBuildScript     <span class="org-haskell-operator">=</span> <span class="org-string">"~/.config/xmonad/build"</span>      <span class="org-comment-delimiter">-- </span><span class="org-comment">Script to recompile and restart xmonad</span>
<span class="linenr"> 7: </span>    myAutostart       <span class="org-haskell-operator">=</span> <span class="org-string">"~/.config/xmonad/src/autostartS"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">Script to run on login</span>
<span class="linenr"> 8: </span>    myXMobarConf      <span class="org-haskell-operator">=</span> <span class="org-string">"~/.config/xmobar/xmobarrc.hs"</span>
<span class="linenr"> 9: </span>    myStalonetrayConf <span class="org-haskell-operator">=</span> <span class="org-string">"~/.config/stalonetray/stalonetrayrc"</span>
<span class="linenr">10: </span>    myTint2Conf       <span class="org-haskell-operator">=</span> <span class="org-string">"~/.config/tint2/xmonad.tint2rc"</span>
<span class="linenr">11: </span>
</pre>
</div>

<p>
Theme; colors, fonts etc
</p>

<div class="org-src-container">
<pre class="src src-haskell">    <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
    <span class="org-comment-delimiter">-- </span><span class="org-comment">Theme                                                               ---</span>
    <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>

    rofiTheme theme <span class="org-haskell-operator">=</span> <span class="org-string">"~/.config/rofi/themes/"</span> <span class="org-haskell-operator">++</span> theme <span class="org-haskell-operator">++</span> <span class="org-string">".rasi"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">Rofi theme directory</span>

    myBorderWidth <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Dimension</span>
    myBorderWidth <span class="org-haskell-operator">=</span> 2

    <span class="org-comment-delimiter">-- </span><span class="org-comment">Tab colours copied from DistroTube's config (at gitlab/dwt1)</span>
    myTabActiveColor      <span class="org-haskell-operator">=</span> <span class="org-string">"#46D9FF"</span>
    myTabInactiveColor       <span class="org-haskell-operator">=</span> <span class="org-string">"#313846"</span>
    myTabActiveBorderColor   <span class="org-haskell-operator">=</span> <span class="org-string">"#46D9FF"</span>
    myTabInactiveBorderColor <span class="org-haskell-operator">=</span> <span class="org-string">"#282C34"</span>
    myTabActiveTextColor     <span class="org-haskell-operator">=</span> <span class="org-string">"#282C34"</span>
    myTabInactiveTextColor   <span class="org-haskell-operator">=</span> <span class="org-string">"#D0D0D0"</span>

    myFocusFollowsMouse  <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">False</span>
    myClickJustFocuses   <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">True</span>

    base03  <span class="org-haskell-operator">=</span> <span class="org-string">"#002b36"</span>
    base02  <span class="org-haskell-operator">=</span> <span class="org-string">"#073642"</span>
    base01  <span class="org-haskell-operator">=</span> <span class="org-string">"#586e75"</span>
    base00  <span class="org-haskell-operator">=</span> <span class="org-string">"#657b83"</span>
    base0   <span class="org-haskell-operator">=</span> <span class="org-string">"#839496"</span>
    base1   <span class="org-haskell-operator">=</span> <span class="org-string">"#93a1a1"</span>
    base2   <span class="org-haskell-operator">=</span> <span class="org-string">"#eee8d5"</span>
    base3   <span class="org-haskell-operator">=</span> <span class="org-string">"#fdf6e3"</span>
    yellow  <span class="org-haskell-operator">=</span> <span class="org-string">"#b58900"</span>
    orange  <span class="org-haskell-operator">=</span> <span class="org-string">"#cb4b16"</span>
    red     <span class="org-haskell-operator">=</span> <span class="org-string">"#dc322f"</span>
    magenta <span class="org-haskell-operator">=</span> <span class="org-string">"#d33682"</span>
    violet  <span class="org-haskell-operator">=</span> <span class="org-string">"#6c71c4"</span>
    blue    <span class="org-haskell-operator">=</span> <span class="org-string">"#268bd2"</span>
    cyan    <span class="org-haskell-operator">=</span> <span class="org-string">"#2aa198"</span>
    green   <span class="org-haskell-operator">=</span> <span class="org-string">"#859900"</span>

    <span class="org-comment-delimiter">-- </span><span class="org-comment">sizes</span>
    gap         <span class="org-haskell-operator">=</span> 10
    topbar      <span class="org-haskell-operator">=</span> 10
    myBorder    <span class="org-haskell-operator">=</span>  2
    prompt <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Dimension</span>
    prompt      <span class="org-haskell-operator">=</span> 30
    status      <span class="org-haskell-operator">=</span> 20

    myNormalBorderColor, myFocusedBorderColor <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span>
    myNormalBorderColor     <span class="org-haskell-operator">=</span> <span class="org-string">"#000000"</span>
    myFocusedBorderColor    <span class="org-haskell-operator">=</span> active

    active       <span class="org-haskell-operator">=</span> blue
    activeWarn   <span class="org-haskell-operator">=</span> red
    inactive     <span class="org-haskell-operator">=</span> violet
    focusColor   <span class="org-haskell-operator">=</span> blue
    unfocusColor <span class="org-haskell-operator">=</span> base02

    myFont       <span class="org-haskell-operator">=</span> <span class="org-string">"xft:NotoSansMono Nerd Font:style=Regular:size=12:antialias=true:hinting=true"</span>
    myMediumFont <span class="org-haskell-operator">=</span> <span class="org-string">"xft:NotoSansMono Nerd Font:style=Regular:size=32:antialias=true:hinting=true"</span>
    myLargeFont  <span class="org-haskell-operator">=</span> <span class="org-string">"xft:NotoSansMono Nerd Font:style=Bold:size=60:antialias=true:hinting=true"</span>


</pre>
</div>

<p>
Search engines, several from <a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Actions-Search.html">XMonad.Actions.Search</a> + custom ones I regularly use:
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>    archwiki, news, reddit, urban <span class="org-haskell-operator">::</span> <span class="org-haskell-type">S.SearchEngine</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span>    archwiki <span class="org-haskell-operator">=</span> S.searchEngine <span class="org-string">"archwiki"</span> <span class="org-string">"https://wiki.archlinux.org/index.php?search="</span>
<span class="linenr"> 4: </span>    news     <span class="org-haskell-operator">=</span> S.searchEngine <span class="org-string">"news"</span> <span class="org-string">"https://news.google.com/search?q="</span>
<span class="linenr"> 5: </span>    reddit   <span class="org-haskell-operator">=</span> S.searchEngine <span class="org-string">"reddit"</span> <span class="org-string">"https://www.reddit.com/search/?q="</span>
<span class="linenr"> 6: </span>    urban    <span class="org-haskell-operator">=</span> S.searchEngine <span class="org-string">"urban"</span> <span class="org-string">"https://www.urbandictionary.com/define.php?term="</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>    searchList <span class="org-haskell-operator">::</span> [(<span class="org-haskell-type">String</span>, <span class="org-haskell-type">S.SearchEngine</span>)]
<span class="linenr"> 9: </span>    searchList <span class="org-haskell-operator">=</span> [ (<span class="org-string">"g"</span>, S.google)
<span class="linenr">10: </span>                 , (<span class="org-string">"h"</span>, S.hoogle)
<span class="linenr">11: </span>                 , (<span class="org-string">"w"</span>, S.wikipedia)
<span class="linenr">12: </span>                 , (<span class="org-string">"i"</span>, S.imdb)
<span class="linenr">13: </span>                 , (<span class="org-string">"a"</span>, archwiki)
<span class="linenr">14: </span>                 , (<span class="org-string">"n"</span>, news)
<span class="linenr">15: </span>                 , (<span class="org-string">"r"</span>, reddit)
<span class="linenr">16: </span>                 , (<span class="org-string">"u"</span>, urban)
<span class="linenr">17: </span>                 , (<span class="org-string">"c"</span>, S.hackage)
<span class="linenr">18: </span>                 ]
</pre>
</div>
</div>
</div>

<div id="outline-container-orga8fb447" class="outline-2">
<h2 id="orga8fb447">src/MyKeys.hs</h2>
<div class="outline-text-2" id="text-orga8fb447">
<p>
Interesting part:
</p>

<ul class="org-ul">
<li><a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Util-NamedActions.html">XMonad.Util.NamedActions</a> &#x2013; Which is used by the <a href="#orgb861bc1">cheatsheet</a>.</li>
</ul>

<p>
<b>Modules needed:</b>
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 2: </span>MyKeys definition</label><pre class="src src-haskell"><span class="linenr"> 1: </span>    <span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">MyKeys</span>
<span class="linenr"> 2: </span>    (myKeys,myCheatsheetKey)
<span class="linenr"> 3: </span>    <span class="org-haskell-keyword">where</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Data.Char</span> (isSpace, toUpper) <span class="org-comment-delimiter">--</span><span class="org-comment">isSpace?</span>
<span class="linenr"> 6: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">System.Exit</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">(exitSuccess)</span>
<span class="linenr"> 7: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad</span>
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.MultiToggle</span>
<span class="linenr">10: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.MultiToggle.Instances</span>
<span class="linenr">11: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.ResizableTile</span>
<span class="linenr">12: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">XMonad.StackSet</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">W</span>
<span class="linenr">13: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Actions.CycleWS</span>
<span class="linenr">14: </span>
<span class="linenr">15: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.EZConfig</span>
<span class="linenr">16: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.NamedActions</span>
<span id="coderef-showTextM" class="coderef-off"><span class="linenr">17: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Actions.ShowText</span>              <span class="org-comment-delimiter">--</span> (showTextM)</span>
<span class="linenr">18: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.NamedScratchpad</span>
<span class="linenr">19: </span>
<span class="linenr">20: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Prompt</span>
<span class="linenr">21: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Prompt.ConfirmPrompt</span>          <span class="org-comment-delimiter">-- </span><span class="org-comment">don't just hard quit</span>
<span class="linenr">22: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Prompt.FuzzyMatch</span>             <span class="org-comment-delimiter">-- </span><span class="org-comment">(ref:fuzzyM) TODO</span>
<span class="linenr">23: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Prompt.Man</span>
<span class="linenr">24: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">XMonad.Actions.Search</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">S</span>
<span class="linenr">25: </span>
<span class="linenr">26: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Actions.DynamicProjects</span>       <span class="org-comment-delimiter">-- </span><span class="org-comment">to switch to projects</span>
<span class="linenr">27: </span>
<span class="linenr">28: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Actions.SinkAll</span>               <span class="org-comment-delimiter">-- </span><span class="org-comment">make all windows unfloat</span>
<span class="linenr">29: </span>
<span class="linenr">30: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Options</span>                              <span class="org-comment-delimiter">-- </span><span class="org-comment">defaults</span>
<span class="linenr">31: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">MyScratchpads</span>
<span class="linenr">32: </span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 3: </span>Help functions</label><pre class="src src-haskell"><span class="linenr"> 1: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">Convert multiword strings to arguments (concatenate with delimiters)</span>
<span class="linenr"> 2: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">This makes sure my shell scripts correctly interpret their arguments</span>
<span class="linenr"> 3: </span>    args <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> [<span class="org-haskell-type">String</span>] <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span>
<span class="linenr"> 4: </span>    args command arguments <span class="org-haskell-operator">=</span> command <span class="org-haskell-operator">++</span> <span class="org-string">" "</span> <span class="org-haskell-operator">++</span> unwords (map show arguments)
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>    quitXmonad <span class="org-haskell-operator">::</span> <span class="org-haskell-type">X</span> <span class="org-haskell-constructor">()</span>
<span class="linenr"> 7: </span>    quitXmonad <span class="org-haskell-operator">=</span> confirmPrompt hotPromptTheme <span class="org-string">"exit"</span>
<span class="linenr"> 8: </span>      <span class="org-haskell-operator">$</span> io (exitWith <span class="org-haskell-constructor">ExitSuccess</span>)
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>    rebuildXmonad <span class="org-haskell-operator">::</span> <span class="org-haskell-type">X</span> <span class="org-haskell-constructor">()</span>
<span class="linenr">11: </span>    rebuildXmonad <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">12: </span>      <span class="org-comment-delimiter">-- </span><span class="org-comment">spawn "xmonad --recompile &amp;&amp; xmonad --restart"</span>
<span class="linenr">13: </span>      spawn myBuildScript
<span class="linenr">14: </span>
<span class="linenr">15: </span>    restartXmonad <span class="org-haskell-operator">::</span> <span class="org-haskell-type">X</span> <span class="org-haskell-constructor">()</span>
<span class="linenr">16: </span>    restartXmonad <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">17: </span>      spawn <span class="org-string">"xmonad --restart"</span>
<span class="linenr">18: </span>
</pre>
</div>

<p>
Modifiers:
</p>

<ul class="org-ul">
<li>M = M1 is Super, which I have also set to space when held down TODO</li>
<li>H is Hyper, which I have set to the menu key</li>
<li>C-Esc is Super tapped on its own</li>
</ul>

<p>
<code>myKeys</code> contains all the key bindings, also, we pre-define longer commands:
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 4: </span>myKeys configuration</label><pre class="src src-haskell"><span class="linenr"> 1: </span>    myKeys <span class="org-haskell-operator">::</span> <span class="org-haskell-type">XConfig</span> l <span class="org-haskell-operator">-&gt;</span> [((<span class="org-haskell-type">KeyMask</span>, <span class="org-haskell-type">KeySym</span>), <span class="org-haskell-type">NamedAction</span>)]
<span class="linenr"> 2: </span>    myKeys conf <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">let</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span>        subKeys name list <span class="org-haskell-operator">=</span> subtitle name <span class="org-haskell-constructor">:</span> mkNamedKeymap conf list
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span>        <span class="org-comment-delimiter">-- </span><span class="org-comment">Abbreviations for certain actions</span>
<span class="linenr"> 7: </span>        menuEditScript         <span class="org-haskell-operator">=</span> spawn <span class="org-haskell-operator">$</span> args <span class="org-string">"menuEditConfigsS"</span> [myMenu,myEditor]
<span class="linenr"> 8: </span>        menuEditConfig         <span class="org-haskell-operator">=</span> spawn <span class="org-haskell-operator">$</span> args <span class="org-string">"menuEditConfigsS"</span> [myMenu,myEditor]
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>        viewScreen s          <span class="org-haskell-operator">=</span> screenWorkspace s <span class="org-haskell-operator">&gt;&gt;=</span> flip whenJust (windows <span class="org-haskell-operator">.</span> W.view)
<span class="linenr">11: </span>        shiftScreen s         <span class="org-haskell-operator">=</span> screenWorkspace s <span class="org-haskell-operator">&gt;&gt;=</span> flip whenJust (windows <span class="org-haskell-operator">.</span> W.shift)
<span class="linenr">12: </span>        unFloat               <span class="org-haskell-operator">=</span> withFocused <span class="org-haskell-operator">$</span> windows <span class="org-haskell-operator">.</span> W.sink
<span class="linenr">13: </span>
<span class="linenr">14: </span>        volumeAdjust <span class="org-string">"toggle"</span> <span class="org-haskell-operator">=</span> spawn <span class="org-string">"adjustVolumeS toggle"</span>
<span class="linenr">15: </span>        volumeAdjust value    <span class="org-haskell-operator">=</span> spawn <span class="org-haskell-operator">$</span> args <span class="org-string">"adjustVolumeS"</span> <span class="org-haskell-operator">$</span> words value
<span class="linenr">16: </span>
<span class="linenr">17: </span>        <span class="org-haskell-keyword">in</span>
<span class="linenr">18: </span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 5: </span>Core Xmonad bindings</label><pre class="src src-haskell"><span class="linenr">1: </span>        subKeys <span class="org-string">"Core"</span>
<span class="linenr">2: </span>        [ (<span class="org-string">"M-S-q"</span>,                   addName <span class="org-string">"Quit XMonad (logout)"</span>   <span class="org-haskell-operator">$</span> quitXmonad)
<span class="linenr">3: </span>        , (<span class="org-string">"M-q"</span>,                     addName <span class="org-string">"Recompile &amp; restart"</span>    <span class="org-haskell-operator">$</span> rebuildXmonad)
<span class="linenr">4: </span>        , (<span class="org-string">"M-M1-q"</span>,                  addName <span class="org-string">"Restart"</span>                <span class="org-haskell-operator">$</span> restartXmonad)
<span class="linenr">5: </span>        , (<span class="org-string">"C-&lt;Escape&gt;"</span>,              addName <span class="org-string">"Application launcher"</span>   <span class="org-haskell-operator">$</span> spawn myAppM)
<span class="linenr">6: </span>        , (<span class="org-string">"M-S-c"</span>,                   addName <span class="org-string">"Close window"</span>           <span class="org-haskell-operator">$</span> kill)
<span class="linenr">7: </span>        ] <span class="org-haskell-operator">^++^</span>
<span class="linenr">8: </span>
</pre>
</div>

<p>
Window manager bindings, for these I use <code>Super</code>:
</p>

<ul class="org-ul">
<li>Screens</li>
<li>Workspaces (<a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Actions-CycleWS.html">XMonad.Actions.CycleWS</a>)</li>
<li>Layouts</li>
<li>Windows</li>
</ul>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 6: </span>Layouts and Windows</label><pre class="src src-haskell"><span class="linenr"> 1: </span>        subKeys <span class="org-string">"Layouts"</span>
<span class="linenr"> 2: </span>        [ (<span class="org-string">"M-h"</span>,                     addName <span class="org-string">"Shrink master"</span>          <span class="org-haskell-operator">$</span> sendMessage <span class="org-haskell-constructor">Shrink</span>)
<span class="linenr"> 3: </span>        , (<span class="org-string">"M-l"</span>,                     addName <span class="org-string">"Expand master"</span>          <span class="org-haskell-operator">$</span> sendMessage <span class="org-haskell-constructor">Expand</span>)
<span class="linenr"> 4: </span>        , (<span class="org-string">"M-i"</span>,                     addName <span class="org-string">"Shrink slave"</span>           <span class="org-haskell-operator">$</span> sendMessage <span class="org-haskell-constructor">MirrorExpand</span>)
<span class="linenr"> 5: </span>        , (<span class="org-string">"M-u"</span>,                     addName <span class="org-string">"Expand slave"</span>           <span class="org-haskell-operator">$</span> sendMessage <span class="org-haskell-constructor">MirrorShrink</span>)
<span class="linenr"> 6: </span>        , (<span class="org-string">"M-,"</span>,                     addName <span class="org-string">"Inc master windows"</span>     <span class="org-haskell-operator">$</span> sendMessage <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">IncMasterN</span> 1)
<span class="linenr"> 7: </span>        , (<span class="org-string">"M-."</span>,                     addName <span class="org-string">"Dec master windows"</span>     <span class="org-haskell-operator">$</span> sendMessage <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">IncMasterN</span> (<span class="org-haskell-operator">-</span>1))
<span class="linenr"> 8: </span>        , (<span class="org-string">"M-&lt;Space&gt;"</span>,               addName <span class="org-string">"Next layout"</span>            <span class="org-haskell-operator">$</span> sendMessage <span class="org-haskell-constructor">NextLayout</span>)
<span class="linenr"> 9: </span>        , (<span class="org-string">"M-f"</span>,                     addName <span class="org-string">"Toggle fullscreen"</span>      <span class="org-haskell-operator">$</span> sendMessage <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">Toggle</span> <span class="org-haskell-constructor">NBFULL</span>)
<span class="linenr">10: </span>        ] <span class="org-haskell-operator">^++^</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span>        subKeys <span class="org-string">"Windows"</span>
<span class="linenr">13: </span>        [ (<span class="org-string">"M-&lt;Tab&gt;"</span>,                 addName <span class="org-string">"Focus next"</span>             <span class="org-haskell-operator">$</span> windows W.focusDown)
<span class="linenr">14: </span>        , (<span class="org-string">"M-S-&lt;Tab&gt;"</span>,               addName <span class="org-string">"Focus previous"</span>         <span class="org-haskell-operator">$</span> windows W.focusUp)
<span class="linenr">15: </span>        , (<span class="org-string">"M-j"</span>,                     addName <span class="org-string">"Focus next"</span>             <span class="org-haskell-operator">$</span> windows W.focusDown)
<span class="linenr">16: </span>        , (<span class="org-string">"M-k"</span>,                     addName <span class="org-string">"Focus previous"</span>         <span class="org-haskell-operator">$</span> windows W.focusUp)
<span class="linenr">17: </span>        , (<span class="org-string">"M-m"</span>,                     addName <span class="org-string">"Focus master"</span>           <span class="org-haskell-operator">$</span> windows W.focusMaster)
<span class="linenr">18: </span>        , (<span class="org-string">"M-S-j"</span>,                   addName <span class="org-string">"Swap next"</span>              <span class="org-haskell-operator">$</span> windows W.swapDown)
<span class="linenr">19: </span>        , (<span class="org-string">"M-S-k"</span>,                   addName <span class="org-string">"Swap previous"</span>          <span class="org-haskell-operator">$</span> windows W.swapUp)
<span class="linenr">20: </span>        , (<span class="org-string">"M-&lt;Return&gt;"</span>,              addName <span class="org-string">"Swap master"</span>            <span class="org-haskell-operator">$</span> windows W.swapMaster)
<span class="linenr">21: </span>        , (<span class="org-string">"M-t"</span>,                     addName <span class="org-string">"Unfloat"</span>                <span class="org-haskell-operator">$</span> unFloat)
<span class="linenr">22: </span>        , (<span class="org-string">"M-S-t"</span>,                   addName <span class="org-string">"Unfloat All"</span>            <span class="org-haskell-operator">$</span> sinkAll)
<span class="linenr">23: </span>        ] <span class="org-haskell-operator">^++^</span>
<span class="linenr">24: </span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 7: </span>Projects</label><pre class="src src-haskell" id="org254530f"><span class="linenr">1: </span>        subKeys <span class="org-string">"Projects"</span>
<span class="linenr">2: </span>        [ (<span class="org-string">"M-w"</span>   , addName <span class="org-string">"switch Project Prompt"</span>   <span class="org-haskell-operator">$</span> switchProjectPrompt warmPromptTheme)
<span class="linenr">3: </span>        , (<span class="org-string">"M-S-w"</span> , addName <span class="org-string">"shift To Project Prompt"</span> <span class="org-haskell-operator">$</span> shiftToProjectPrompt warmPromptTheme)
<span class="linenr">4: </span>        ] <span class="org-haskell-operator">^++^</span>
<span class="linenr">5: </span>
</pre>
</div>

<p>
Application bindings, these are (mostly) using the <code>Hyper key</code> (menu):
</p>

<p>
Note: <code>M-S-&lt;Return&gt;</code> is a fallback, I broke my <i>menu</i> binding a couple of times.
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>        subKeys <span class="org-string">"Applications"</span>
<span class="linenr"> 2: </span>        [ (<span class="org-string">"M-S-&lt;Return&gt;"</span>,            addName <span class="org-string">"Terminal emulator"</span>      <span class="org-haskell-operator">$</span> spawn myTerminal)
<span class="linenr"> 3: </span>        , (<span class="org-string">"M3-&lt;Return&gt;"</span>,             addName <span class="org-string">"Terminal emulator"</span>      <span class="org-haskell-operator">$</span> spawn myTerminal)
<span class="linenr"> 4: </span>        , (<span class="org-string">"M3-d"</span>,                    addName <span class="org-string">"Start apps (I3 dmenu)"</span>  <span class="org-haskell-operator">$</span> spawn myAppM)
<span class="linenr"> 5: </span>        , (<span class="org-string">"M3-e"</span>,                    addName <span class="org-string">"Text editor"</span>            <span class="org-haskell-operator">$</span> spawn myEditor)
<span class="linenr"> 6: </span>        , (<span class="org-string">"M3-w"</span>,                    addName <span class="org-string">"Web browser (minimal)"</span>  <span class="org-haskell-operator">$</span> spawn myBrowser)
<span class="linenr"> 7: </span>        , (<span class="org-string">"M3-S-w"</span>,                  addName <span class="org-string">"Chromium"</span>               <span class="org-haskell-operator">$</span> spawn <span class="org-string">"chromium"</span>)
<span class="linenr"> 8: </span>        , (<span class="org-string">"M3-C-w"</span>,                  addName <span class="org-string">"Chromium anonymous"</span>     <span class="org-haskell-operator">$</span> spawn <span class="org-string">"chromium --name=ignognito --incognito"</span>)
<span class="linenr"> 9: </span>        , (<span class="org-string">"M3-f"</span>,                    addName <span class="org-string">"Terminal file manager"</span>  <span class="org-haskell-operator">$</span> spawn myFileManager)
<span class="linenr">10: </span>        , (<span class="org-string">"M3-S-f"</span>,                  addName <span class="org-string">"Graphical file manager"</span> <span class="org-haskell-operator">$</span> spawn myGuiFileManager)
<span class="linenr">11: </span>        , (<span class="org-string">"M3-z"</span>,                    addName <span class="org-string">"Zoom"</span>                   <span class="org-haskell-operator">$</span> spawn <span class="org-string">"zoom"</span>)
<span class="linenr">12: </span>        ] <span class="org-haskell-operator">^++^</span>
<span class="linenr">13: </span>
<span class="linenr">14: </span>        subKeys <span class="org-string">"My (rofi) Scripts"</span>
<span class="linenr">15: </span>        [ (<span class="org-string">"M3-p M3-p"</span>,                 addName <span class="org-string">"Edit scripts"</span>        <span class="org-haskell-operator">$</span> menuEditScript)
<span class="linenr">16: </span>        , (<span class="org-string">"M3-p M3-e"</span>,                 addName <span class="org-string">"Edit configs"</span>        <span class="org-haskell-operator">$</span> menuEditConfig)
<span class="linenr">17: </span>        ] <span class="org-haskell-operator">^++^</span>
<span class="linenr">18: </span>
<span class="linenr">19: </span>        subKeys <span class="org-string">"Multimedia Keys"</span>
<span class="linenr">20: </span>        [ (<span class="org-string">"&lt;XF86AudioMute&gt;"</span>,         addName <span class="org-string">"Toggle mute"</span>           <span class="org-haskell-operator">$</span> volumeAdjust <span class="org-string">"togmute"</span>)
<span class="linenr">21: </span>        , (<span class="org-string">"&lt;XF86AudioLowerVolume&gt;"</span>,  addName <span class="org-string">"Decrease volume"</span>       <span class="org-haskell-operator">$</span> volumeAdjust <span class="org-string">"down"</span>)
<span class="linenr">22: </span>        , (<span class="org-string">"&lt;XF86AudioRaiseVolume&gt;"</span>,  addName <span class="org-string">"Increase volume"</span>       <span class="org-haskell-operator">$</span> volumeAdjust <span class="org-string">"up"</span>)
<span class="linenr">23: </span>        , (<span class="org-string">"&lt;XF86MonBrightnessDown&gt;"</span>, addName <span class="org-string">"Decrease brightness"</span>   <span class="org-haskell-operator">$</span> spawn <span class="org-string">"backlightS -dec 10"</span>)
<span class="linenr">24: </span>        , (<span class="org-string">"&lt;XF86MonBrightnessUp&gt;"</span>,   addName <span class="org-string">"Increase brightness"</span>   <span class="org-haskell-operator">$</span> spawn <span class="org-string">"backlightS -inc 10"</span>)
<span class="linenr">25: </span>        , (<span class="org-string">"&lt;XF86TouchpadToggle&gt;"</span>,    addName <span class="org-string">"Toggle Touchpad"</span>       <span class="org-haskell-operator">$</span> spawn <span class="org-string">"toggleTouchpadS"</span>)
<span class="linenr">26: </span>        , (<span class="org-string">"&lt;Print&gt;"</span>,                 addName <span class="org-string">"Take screenshot"</span>       <span class="org-haskell-operator">$</span> spawn (myPrintScreen <span class="org-haskell-operator">++</span> <span class="org-string">" -n"</span>))
<span class="linenr">27: </span>        , (<span class="org-string">"S-&lt;Print&gt;"</span>,               addName <span class="org-string">"Take screenshot menu"</span>  <span class="org-haskell-operator">$</span> spawn myPrintScreen)
<span class="linenr">28: </span>        , (<span class="org-string">"M-u p"</span>,                   addName <span class="org-string">"Play music"</span>            <span class="org-haskell-operator">$</span> spawn <span class="org-string">"mpc play"</span>)
<span class="linenr">29: </span>        , (<span class="org-string">"M-u ,"</span>,                   addName <span class="org-string">"Play next"</span>             <span class="org-haskell-operator">$</span> spawn <span class="org-string">"mpc next"</span>)
<span class="linenr">30: </span>        , (<span class="org-string">"M-u ."</span>,                   addName <span class="org-string">"Play previous"</span>         <span class="org-haskell-operator">$</span> spawn <span class="org-string">"mpc prev"</span>)
<span class="linenr">31: </span>        , (<span class="org-string">"M-u &lt;Space&gt;"</span>,             addName <span class="org-string">"Toggle play"</span>           <span class="org-haskell-operator">$</span> spawn <span class="org-string">"mpc toggle"</span>)
<span class="linenr">32: </span>        , (<span class="org-string">"M-u n"</span>,                   addName <span class="org-string">"Fetch TV url"</span>          <span class="org-haskell-operator">$</span> spawn <span class="org-string">"newseries -p"</span>)
<span class="linenr">33: </span>        , (<span class="org-string">"M-u /"</span>,                   addName <span class="org-string">"Music player"</span>          <span class="org-haskell-operator">$</span> namedScratchpadAction myScratchPads <span class="org-string">"myMusic"</span>)
<span class="linenr">34: </span>        ] <span class="org-haskell-operator">^++^</span>
<span class="linenr">35: </span>
<span class="linenr">36: </span>        subKeys <span class="org-string">"Scratchpads"</span>
<span class="linenr">37: </span>        [ (<span class="org-string">"M-C-&lt;Return&gt;"</span>, addName <span class="org-string">"Scratchpads"</span>    <span class="org-haskell-operator">$</span> namedScratchpadAction myScratchPads <span class="org-string">"scratchpad"</span>)
<span class="linenr">38: </span>        , (<span class="org-string">"M-`"</span>         , addName <span class="org-string">"Scratchpad"</span>     <span class="org-haskell-operator">$</span> namedScratchpadAction myScratchPads <span class="org-string">"scratchpad"</span>)
<span class="linenr">39: </span>        , (<span class="org-string">"M-z a"</span>       , addName <span class="org-string">"Volume control"</span> <span class="org-haskell-operator">$</span> namedScratchpadAction myScratchPads <span class="org-string">"myPavu"</span>)
<span class="linenr">40: </span>        , (<span class="org-string">"M-&lt;F2&gt;"</span>      , addName <span class="org-string">"Volume control"</span> <span class="org-haskell-operator">$</span> namedScratchpadAction myScratchPads <span class="org-string">"myPavu"</span>)
<span class="linenr">41: </span>        , (<span class="org-string">"M-z m"</span>       , addName <span class="org-string">"Music player"</span>   <span class="org-haskell-operator">$</span> namedScratchpadAction myScratchPads <span class="org-string">"myMusic"</span>)
<span class="linenr">42: </span>        , (<span class="org-string">"M-z w"</span>       , addName <span class="org-string">"Whatsapp"</span>       <span class="org-haskell-operator">$</span> namedScratchpadAction myScratchPads <span class="org-string">"myWhatsApp"</span>)
<span class="linenr">43: </span>        , (<span class="org-string">"M-z p"</span>       , addName <span class="org-string">"Proton mail"</span>    <span class="org-haskell-operator">$</span> namedScratchpadAction myScratchPads <span class="org-string">"myProtonmail"</span>)
<span class="linenr">44: </span>        ] <span class="org-haskell-operator">^++^</span>
<span class="linenr">45: </span>
</pre>
</div>

<p>
Prompts (<code>H-m</code>, man-page) and Search-engines(<code>H-s</code> +):
</p>

<ul class="org-ul">
<li><code>g</code> S.google</li>
<li><code>h</code> S.hoogle</li>
<li><code>w</code> S.wikipedia</li>
<li><code>a</code> archwiki</li>
<li><code>n</code> news</li>
<li><code>r</code> reddit</li>
<li><code>u</code> urban</li>
<li><code>c</code> S.hackage</li>
</ul>

<p>
(Defined <a href="#orgc5cef1f">here</a>)
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr">1: </span>        subKeys <span class="org-string">"Prompts"</span>
<span class="linenr">2: </span>        [ (<span class="org-string">"M3-m"</span>, addName <span class="org-string">"Man-page Prompt"</span> <span class="org-haskell-operator">$</span> manPrompt myPromptTheme)] <span class="org-haskell-operator">^++^</span>
<span class="linenr">3: </span>
<span class="linenr">4: </span>        subKeys <span class="org-string">"Searchengines"</span>
<span class="linenr">5: </span>        [ (<span class="org-string">"M3-s "</span> <span class="org-haskell-operator">++</span> k, addName <span class="org-string">"Search Engines"</span>  <span class="org-haskell-operator">$</span> S.promptSearch myPromptTheme f) <span class="org-haskell-operator">|</span> (k,f) <span class="org-haskell-operator">&lt;-</span> searchList]
<span class="linenr">6: </span>
</pre>
</div>

<p>
Keybinding to display the keybinding cheatsheet
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr">1: </span>    myCheatsheetKey <span class="org-haskell-operator">::</span> (<span class="org-haskell-type">KeyMask</span>, <span class="org-haskell-type">KeySym</span>)
<span class="linenr">2: </span>    myCheatsheetKey <span class="org-haskell-operator">=</span> (myModMask <span class="org-haskell-operator">.|.</span> shiftMask, xK_slash)
<span class="linenr">3: </span>
</pre>
</div>

<p>
Theme prompts:
</p>

<ul class="org-ul">
<li>Regular, for normal propmpts.</li>
<li>Warm, for projects</li>
<li>Hot, for Quitting and Killing</li>
</ul>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>    myPromptTheme <span class="org-haskell-operator">::</span> <span class="org-haskell-type">XPConfig</span>
<span class="linenr"> 2: </span>    myPromptTheme <span class="org-haskell-operator">=</span> def
<span class="linenr"> 3: </span>        { font                  <span class="org-haskell-operator">=</span> myFont
<span class="linenr"> 4: </span>        , bgColor               <span class="org-haskell-operator">=</span> base03
<span class="linenr"> 5: </span>        , fgColor               <span class="org-haskell-operator">=</span> active
<span class="linenr"> 6: </span>        , fgHLight              <span class="org-haskell-operator">=</span> base03
<span class="linenr"> 7: </span>        , bgHLight              <span class="org-haskell-operator">=</span> active
<span class="linenr"> 8: </span>        , borderColor           <span class="org-haskell-operator">=</span> base03
<span class="linenr"> 9: </span>        , promptBorderWidth     <span class="org-haskell-operator">=</span> 0
<span class="linenr">10: </span>        , height                <span class="org-haskell-operator">=</span> prompt
<span class="linenr">11: </span>        , promptKeymap          <span class="org-haskell-operator">=</span> emacsLikeXPKeymap
<span class="linenr">12: </span>        , position              <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Top</span>
<span class="linenr">13: </span>        <span class="org-comment-delimiter">-- </span><span class="org-comment">, position            = CenteredAt { xpCenterY = 0.3, xpWidth = 0.3 }</span>
<span class="linenr">14: </span>        , historySize           <span class="org-haskell-operator">=</span> 256
<span class="linenr">15: </span>        , historyFilter         <span class="org-haskell-operator">=</span> id
<span class="linenr">16: </span>        , defaultText           <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">[]</span>
<span class="linenr">17: </span>        <span class="org-comment-delimiter">-- </span><span class="org-comment">, autoComplete        = Just 100000  -- set Just 100000 for .1 sec</span>
<span class="linenr">18: </span>        , showCompletionOnTab   <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">False</span>
<span class="linenr">19: </span>        <span class="org-comment-delimiter">-- </span><span class="org-comment">, complCaseSensitivity  = ComplCaseSensitive False -- newer version :-(!</span>
<span class="linenr">20: </span>        , searchPredicate       <span class="org-haskell-operator">=</span> fuzzyMatch   <span class="org-comment-delimiter">--</span>
<span class="linenr">21: </span>        , sorter                <span class="org-haskell-operator">=</span> fuzzySort
<span class="linenr">22: </span>        , defaultPrompter       <span class="org-haskell-operator">=</span> id <span class="org-haskell-operator">$</span> map toUpper  <span class="org-comment-delimiter">-- </span><span class="org-comment">change prompt to UPPER</span>
<span class="linenr">23: </span>        , alwaysHighlight       <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">True</span>
<span class="linenr">24: </span>        , maxComplRows          <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> 15 <span class="org-comment-delimiter">-- </span><span class="org-comment">Nothing -- Nothing is unlimited</span>
<span class="linenr">25: </span>        }
<span class="linenr">26: </span>
<span class="linenr">27: </span>    warmPromptTheme <span class="org-haskell-operator">=</span> myPromptTheme
<span class="linenr">28: </span>        { bgColor               <span class="org-haskell-operator">=</span> yellow
<span class="linenr">29: </span>        , fgColor               <span class="org-haskell-operator">=</span> base03
<span class="linenr">30: </span>        , position              <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Top</span>
<span class="linenr">31: </span>        }
<span class="linenr">32: </span>
<span class="linenr">33: </span>    hotPromptTheme <span class="org-haskell-operator">=</span> myPromptTheme
<span class="linenr">34: </span>        { bgColor               <span class="org-haskell-operator">=</span> red
<span class="linenr">35: </span>        , fgColor               <span class="org-haskell-operator">=</span> base3
<span class="linenr">36: </span>        , position              <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Top</span>
<span class="linenr">37: </span>        }
<span class="linenr">38: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1fd0dc7" class="outline-2">
<h2 id="org1fd0dc7">src/MyBar.hs</h2>
<div class="outline-text-2" id="text-org1fd0dc7">
<p>
<b>Modules needed:</b>
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 8: </span>MyBar definition</label><pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">MyBar</span>
<span class="linenr"> 2: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">(spawnBarWithHandle, myBarAutostart, myLogHook)</span>
<span class="linenr"> 3: </span><span class="org-haskell-keyword">where</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Hooks.DynamicLog</span>
<span class="linenr"> 8: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">System.IO</span> (<span class="org-haskell-constructor">Handle</span>,hPutStrLn)
<span class="linenr"> 9: </span>
<span class="linenr">10: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Options</span>
<span class="linenr">11: </span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 9: </span>myLoghook</label><pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-haskell-definition">myLogHook</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">X</span> <span class="org-haskell-constructor">()</span>
<span class="linenr"> 2: </span><span class="org-haskell-definition">myLogHook</span> h <span class="org-haskell-operator">=</span> dynamicLogWithPP <span class="org-haskell-operator">$</span> xmobarPP
<span class="linenr"> 3: </span>                  { ppOutput          <span class="org-haskell-operator">=</span> hPutStrLn h
<span class="linenr"> 4: </span>                  , ppTitle           <span class="org-haskell-operator">=</span> xmobarColor active <span class="org-string">""</span> <span class="org-haskell-operator">.</span> shorten 50
<span class="linenr"> 5: </span>                  , ppVisible         <span class="org-haskell-operator">=</span> xmobarColor base0  <span class="org-string">""</span> <span class="org-haskell-operator">.</span> wrap <span class="org-string">"("</span> <span class="org-string">")"</span> <span class="org-haskell-operator">.</span> xmobarIcon
<span class="linenr"> 6: </span>                  , ppUrgent          <span class="org-haskell-operator">=</span> xmobarColor red    <span class="org-string">""</span> <span class="org-haskell-operator">.</span> wrap <span class="org-string">" "</span> <span class="org-string">" "</span>
<span class="linenr"> 7: </span>                  , ppSep             <span class="org-haskell-operator">=</span> xmobarColor red myNormalBorderColor <span class="org-string">" . "</span>
<span class="linenr"> 8: </span>                  , ppWsSep           <span class="org-haskell-operator">=</span> <span class="org-string">" "</span>
<span class="linenr"> 9: </span>                  , ppLayout          <span class="org-haskell-operator">=</span> xmobarColor yellow <span class="org-string">""</span> <span class="org-haskell-operator">.</span> xmobarLay
<span class="linenr">10: </span>                  , ppOrder           <span class="org-haskell-operator">=</span> id
<span class="linenr">11: </span>                  <span class="org-comment-delimiter">-- </span><span class="org-comment">Format the workspace information</span>
<span class="linenr">12: </span>                  <span class="org-comment-delimiter">-- </span><span class="org-comment">, ppCurrent         = xmobarColor active "" . wrap "[" "]"</span>
<span class="linenr">13: </span>                  , ppCurrent         <span class="org-haskell-operator">=</span> xmobarColor' active   <span class="org-string">""</span> <span class="org-haskell-operator">.</span> wrap <span class="org-string">"["</span> <span class="org-string">"]"</span>
<span class="linenr">14: </span>                  , ppHidden          <span class="org-haskell-operator">=</span> xmobarColor' inactive <span class="org-string">""</span>
<span class="linenr">15: </span>                  <span class="org-comment-delimiter">-- </span><span class="org-comment">, ppHiddenNoWindows = const ""</span>
<span class="linenr">16: </span>                  , ppHiddenNoWindows <span class="org-haskell-operator">=</span> xmobarColor inactive <span class="org-string">""</span> <span class="org-haskell-operator">.</span> myEmptyWsSymbol
<span class="linenr">17: </span>                  }
<span class="linenr">18: </span>
</pre>
</div>

<p>
Symbols used are from <a href="https://fontawesome.com/icons">fontawesome</a>.
</p>

<p>
Code is partly based on snippets from <a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/src/XMonad.Hooks.DynamicLog.html">here</a>, which is the most understandable Haskell I've read so far.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 10: </span>Replacing long project names with symbols and icons</label><pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">Symbols for displaying workspaces in xmobar</span>
<span class="linenr"> 2: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">Must be functions, as it expects a different symbol for each</span>
<span class="linenr"> 3: </span><span class="org-haskell-definition">myCurrentWsSymbol</span> workspaceName <span class="org-haskell-operator">=</span> <span class="org-string">"[&#9679;]"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">The workspace currently active</span>
<span class="linenr"> 4: </span><span class="org-haskell-definition">myHiddenWsSymbol</span>  workspaceName <span class="org-haskell-operator">=</span>  <span class="org-string">"&#9679;"</span>  <span class="org-comment-delimiter">-- </span><span class="org-comment">Workspaces with open windows</span>
<span class="linenr"> 5: </span><span class="org-haskell-definition">myEmptyWsSymbol</span>   workspaceName <span class="org-haskell-operator">=</span>  <span class="org-string">"&#9675;"</span>  <span class="org-comment-delimiter">-- </span><span class="org-comment">Workspaces with no windows</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">Show scratchpads, just with another color</span>
<span class="linenr"> 8: </span><span class="org-haskell-definition">xmobarColor'</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span>  <span class="org-doc">-- ^ foreground color: a color name, or #rrggbb format</span>
<span class="linenr"> 9: </span>             <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span>  <span class="org-doc">-- ^ background color</span>
<span class="linenr">10: </span>             <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span>  <span class="org-doc">-- ^ output string</span>
<span class="linenr">11: </span>             <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span>
<span class="linenr">12: </span><span class="org-haskell-definition">xmobarColor'</span> fg bg x <span class="org-haskell-operator">=</span> xmobarColor fg2 bg <span class="org-haskell-operator">$</span> xmobarIcon x
<span class="linenr">13: </span>              <span class="org-haskell-keyword">where</span> fg2 <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">case</span> x <span class="org-haskell-keyword">of</span>
<span class="linenr">14: </span>                      <span class="org-string">"NSP"</span> <span class="org-haskell-operator">-&gt;</span> unfocusColor
<span class="linenr">15: </span>                      <span class="org-comment-delimiter">--</span><span class="org-comment">"chat" -&gt; red</span>
<span class="linenr">16: </span>                      <span class="org-haskell-keyword">_</span> <span class="org-haskell-operator">-&gt;</span> fg
<span class="linenr">17: </span>
<span class="linenr">18: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">Use shorter indicators for the workspaces</span>
<span class="linenr">19: </span><span class="org-haskell-definition">xmobarIcon</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span>
<span class="linenr">20: </span><span class="org-haskell-definition">xmobarIcon</span> x <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">case</span> (filter (<span class="org-haskell-operator">/=</span><span class="org-string">'['</span>) <span class="org-haskell-operator">$</span> filter (<span class="org-haskell-operator">/=</span><span class="org-string">']'</span>) x) <span class="org-haskell-keyword">of</span>
<span class="linenr">21: </span>               <span class="org-string">"browsers"</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf0ac&lt;/fn&gt;"</span>
<span class="linenr">22: </span>               <span class="org-string">"emacs"</span>    <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf044&lt;/fn&gt;"</span>
<span class="linenr">23: </span>               <span class="org-string">"xmonad"</span>   <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=0&gt;xm&lt;/fn&gt;"</span>
<span class="linenr">24: </span>               <span class="org-string">"term"</span>     <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf044&lt;/fn&gt;"</span>
<span class="linenr">25: </span>               <span class="org-string">"chat"</span>     <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf086&lt;/fn&gt;"</span>
<span class="linenr">26: </span>               <span class="org-string">"scratch"</span>  <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf0ad&lt;/fn&gt;"</span>
<span class="linenr">27: </span>               <span class="org-string">"media"</span>    <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf085&lt;/fn&gt;"</span>
<span class="linenr">28: </span>               <span class="org-string">"docs"</span>     <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf19d&lt;/fn&gt;"</span>
<span class="linenr">29: </span>               <span class="org-string">"tv"</span>       <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf008&lt;/fn&gt;"</span>
<span class="linenr">30: </span>               <span class="org-string">"NSP"</span>      <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf249&lt;/fn&gt;"</span>
<span class="linenr">31: </span>               <span class="org-haskell-keyword">_</span>          <span class="org-haskell-operator">-&gt;</span> x
<span class="linenr">32: </span>
<span class="linenr">33: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">Use shorter indicators for the layout</span>
<span class="linenr">34: </span><span class="org-haskell-definition">xmobarLay</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span>
<span class="linenr">35: </span><span class="org-haskell-definition">xmobarLay</span> x <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">case</span> x <span class="org-haskell-keyword">of</span>
<span class="linenr">36: </span>               <span class="org-comment-delimiter">--</span><span class="org-comment">"Tall"  -&gt; "&lt;fn=0&gt;T&lt;/fn&gt;"</span>
<span class="linenr">37: </span>               <span class="org-string">"Tall"</span>    <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf00b&lt;/fn&gt;"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">th-list</span>
<span class="linenr">38: </span>               <span class="org-string">"Three"</span>   <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=0&gt;3&lt;/fn&gt;"</span>
<span class="linenr">39: </span>               <span class="org-string">"Full"</span>    <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf0c8&lt;/fn&gt;"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">square "&lt;fn=0&gt;F&lt;/fn&gt;"</span>
<span class="linenr">40: </span>               <span class="org-string">"magnify"</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf00e&lt;/fn&gt;"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">search-plus</span>
<span class="linenr">41: </span>               <span class="org-string">"monocle"</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf06e&lt;/fn&gt;"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">eye</span>
<span class="linenr">42: </span>               <span class="org-string">"Tabs"</span>    <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf0db&lt;/fn&gt;"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">columns</span>
<span class="linenr">43: </span>               <span class="org-comment-delimiter">--</span><span class="org-comment">"Tabs"  -&gt; "&lt;fn=1&gt;\xf03b&lt;/fn&gt;"</span>
<span class="linenr">44: </span>               <span class="org-string">"grid"</span>    <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf009&lt;/fn&gt;"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">th-grid</span>
<span class="linenr">45: </span>               <span class="org-string">"floats"</span>  <span class="org-haskell-operator">-&gt;</span> <span class="org-string">"&lt;fn=1&gt;\xf0c2&lt;/fn&gt;"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">cloud</span>
<span class="linenr">46: </span>               <span class="org-haskell-keyword">_</span>       <span class="org-haskell-operator">-&gt;</span> x
<span class="linenr">47: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1cd0d64" class="outline-2">
<h2 id="org1cd0d64">src/MyLayoutHook.hs</h2>
<div class="outline-text-2" id="text-org1cd0d64">
<p>
Extending layouts for daily use:
</p>

<ul class="org-ul">
<li><a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Layout-WindowNavigation.html">XMonad.Layout.WindowNavigation</a> &#x2013; WindowNavigation is an extension to allow easy navigation of a workspace. See here for the new key bindings. TODO alternative for <code>windows W.focusUp</code></li>
<li><a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Layout-LimitWindows.html">XMonad.Layout.LimitWindows</a> &#x2013; A layout modifier that limits the number of windows that can be <code>shown</code>. My screen is not all that big, more then four windows is silly in most cases. Notice that the layout <code>shows</code> four windows, the other ones are still there, just not shown!</li>
</ul>

<p>
Magnifing a layout:
</p>

<ul class="org-ul">
<li><a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Layout-Magnifier.html">XMonad.Layout.Magnifier</a> &#x2013; This is a layout modifier that will make a layout increase the size of the window that has focus.</li>
<li><a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Layout-ResizableTile.html">XMonad.Layout.ResizableTile</a> &#x2013; More useful tiled layout that allows you to change a width/height of window.</li>
</ul>

<p>
I use this to flip back and forth between a video, playing at 2/3d of the screen and a terminal, also at 2/3d where I follow the lesson / video. Uses ref:resize and ref:magnify
</p>

<p>
Floating windows
</p>

<p>
<a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Layout-PerWorkspace.html#v:onWorkspace">XMonad.Layout.PerWorkspace</a> &#x2013; Configure layouts on a per-workspace basis: use layouts and apply layout modifiers selectively, depending on the workspace.
</p>

<p>
<b>Modules needed:</b>
</p>
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 11: </span>Layout modules</label><pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-haskell-pragma">{-# LANGUAGE NoMonomorphismRestriction, FlexibleContexts #-}</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">MyLayoutHook</span>
<span class="linenr"> 4: </span>(myLayoutHook)
<span class="linenr"> 5: </span><span class="org-haskell-keyword">where</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span class="org-comment-delimiter">--</span><span class="org-comment">Layouts</span>
<span class="linenr"> 8: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Tabbed</span>
<span class="linenr"> 9: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.ThreeColumns</span>
<span class="linenr">10: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.GridVariants</span> (<span class="org-haskell-constructor">Grid</span>(<span class="org-haskell-constructor">Grid</span>))
<span class="linenr">11: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Simplest</span>
<span class="linenr">12: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.SimplestFloat</span>
<span class="linenr">13: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Tabbed</span>
<span class="linenr">14: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.DwmStyle</span>
<span class="linenr">15: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Accordion</span>
<span class="linenr">16: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.BinarySpacePartition</span> (emptyBSP)
<span class="linenr">17: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Decoration</span>           (<span class="org-haskell-constructor">Decoration</span>,
<span class="linenr">18: </span>                                           <span class="org-haskell-constructor">DefaultShrinker</span>)
<span class="linenr">19: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Simplest</span>             (<span class="org-haskell-constructor">Simplest</span>)
<span class="linenr">20: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Spiral</span>
<span class="linenr">21: </span>
<span class="linenr">22: </span><span class="org-comment-delimiter">--</span><span class="org-comment">Support</span>
<span class="linenr">23: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Master</span>
<span class="linenr">24: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Magnifier</span>
<span class="linenr">25: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.LimitWindows</span> (limitWindows, increaseLimit, decreaseLimit)
<span class="linenr">26: </span>
<span class="linenr">27: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Hooks.ManageDocks</span> (avoidStruts)
<span class="linenr">28: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout</span>
<span class="linenr">29: </span>
<span class="linenr">30: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.ToggleLayouts</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">(ToggleLayout (..),(toggleLayouts)</span>
<span class="linenr">31: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.MultiToggle</span>
<span class="linenr">32: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.MultiToggle.Instances</span>
<span class="linenr">33: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">import XMonad.Layout.MultiToggle.Instances (StdTransformers(NBFULL, MIRROR, NOBORDERS))</span>
<span class="linenr">34: </span>
<span class="linenr">35: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.NoBorders</span> <span class="org-comment-delimiter">--</span><span class="org-comment">needed?</span>
<span class="linenr">36: </span>
<span class="linenr">37: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Renamed</span>
<span class="linenr">38: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.ResizableTile</span>
<span class="linenr">39: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Spacing</span>
<span class="linenr">40: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Gaps</span>
<span class="linenr">41: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.Fullscreen</span>
<span class="linenr">42: </span>
<span class="linenr">43: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.PerWorkspace</span>
<span class="linenr">44: </span>
<span class="linenr">45: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.ResizableTile</span>
<span class="linenr">46: </span><span class="org-comment-delimiter">--</span><span class="org-comment">variants</span>
<span class="linenr">47: </span><span class="org-haskell-keyword">import</span>           <span class="org-haskell-constructor">XMonad.Layout.LayoutModifier</span>       (<span class="org-haskell-constructor">ModifiedLayout</span>)
<span class="linenr">48: </span><span class="org-comment-delimiter">--</span>
<span class="linenr">49: </span>
<span class="linenr">50: </span><span class="org-comment-delimiter">--</span>
<span class="linenr">51: </span>
<span class="linenr">52: </span>
<span class="linenr">53: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">import XMonad.Layout.WindowNavigation</span>
<span class="linenr">54: </span>
<span class="linenr">55: </span>
<span class="linenr">56: </span>    <span class="org-comment-delimiter">--</span><span class="org-comment">------------------------</span>
<span class="linenr">57: </span>
<span class="linenr">58: </span><span class="org-comment-delimiter">--</span><span class="org-comment">Misc</span>
<span class="linenr">59: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.ShowWName</span>
<span class="linenr">60: </span>
<span class="linenr">61: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Options</span>
<span class="linenr">62: </span>
</pre>
</div>

<p>
Layouts:
</p>
<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 12: </span>Layout definitions</label><pre class="src src-haskell"><span class="linenr"> 1: </span>
<span class="linenr"> 2: </span><span class="org-haskell-definition">tall</span>    <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"Tall"</span>]
<span class="linenr"> 3: </span>        <span class="org-haskell-operator">$</span> mySpacing
<span class="linenr"> 4: </span>        <span class="org-haskell-operator">$</span> avoidStruts
<span class="linenr"> 5: </span>        <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">ResizableTall</span> 1 (3<span class="org-haskell-operator">/</span>100) (1<span class="org-haskell-operator">/</span>2) <span class="org-haskell-constructor">[]</span>
<span class="linenr"> 6: </span><span class="org-haskell-definition">wide</span>    <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"wide"</span>]
<span class="linenr"> 7: </span>        <span class="org-haskell-operator">$</span> mySpacing
<span class="linenr"> 8: </span>        <span class="org-haskell-operator">$</span> avoidStruts
<span class="linenr"> 9: </span>        <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">Mirror</span> tall
<span class="linenr">10: </span><span class="org-haskell-definition">full</span>    <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"full"</span>]
<span class="linenr">11: </span>        <span class="org-haskell-operator">$</span> avoidStruts
<span class="linenr">12: </span>        <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">Full</span>
<span class="linenr">13: </span><span class="org-haskell-definition">three</span>   <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"Three"</span>]
<span class="linenr">14: </span>        <span class="org-haskell-operator">$</span> mySpacing
<span class="linenr">15: </span>        <span class="org-haskell-operator">$</span> avoidStruts
<span class="linenr">16: </span>        <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">ThreeColMid</span> 1 (3<span class="org-haskell-operator">/</span>100) (1<span class="org-haskell-operator">/</span>2)
<span class="linenr">17: </span><span class="org-haskell-definition">grid</span>    <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"grid"</span>]
<span class="linenr">18: </span>         <span class="org-doc">-- $ windowNavigation</span>
<span class="linenr">19: </span>         <span class="org-doc">-- $ addTabs shrinkText myTabTheme</span>
<span class="linenr">20: </span>         <span class="org-doc">-- $ subLayout [0,1,2] (smartBorders Simplest)</span>
<span class="linenr">21: </span>        <span class="org-haskell-operator">$</span> limitWindows 4
<span class="linenr">22: </span>         <span class="org-doc">-- $ mySpacing</span>
<span class="linenr">23: </span>         <span class="org-doc">-- $ mkToggle (single MIRROR)</span>
<span class="linenr">24: </span>        <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">Grid</span> (16<span class="org-haskell-operator">/</span>10)
<span class="linenr">25: </span><span class="org-haskell-definition">tabs</span>    <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"Tabs"</span>]
<span class="linenr">26: </span>        <span class="org-haskell-operator">$</span> avoidStruts
<span class="linenr">27: </span>        <span class="org-haskell-operator">$</span> tabbed shrinkText myTabConfig
<span class="linenr">28: </span><span class="org-haskell-definition">magnify</span> <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"magnify"</span>]
<span class="linenr">29: </span>           <span class="org-doc">-- $ windowNavigation</span>
<span class="linenr">30: </span>           <span class="org-doc">-- $ addTabs shrinkText myTabTheme</span>
<span class="linenr">31: </span>           <span class="org-doc">-- $ subLayout [0,1,2] (smartBorders Simplest)</span>
<span class="linenr">32: </span>        <span class="org-haskell-operator">$</span> magnifier
<span class="linenr">33: </span>           <span class="org-doc">-- $ limitWindows 2</span>
<span class="linenr">34: </span>           <span class="org-doc">-- $ mySpacing 8</span>
<span class="linenr">35: </span>        <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">ResizableTall</span> 1 (3<span class="org-haskell-operator">/</span>100) (1<span class="org-haskell-operator">/</span>2) <span class="org-haskell-constructor">[]</span>
<span class="linenr">36: </span><span class="org-haskell-definition">floats</span>  <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"floats"</span>]
<span class="linenr">37: </span>        <span class="org-doc">-- $ windowNavigation</span>
<span class="linenr">38: </span>      <span class="org-doc">-- $ addTabs shrinkText myTabTheme</span>
<span class="linenr">39: </span>             <span class="org-doc">-- $ subLayout [] (smartBorders Simplest)</span>
<span class="linenr">40: </span>        <span class="org-haskell-operator">$</span> limitWindows 20 simplestFloat
<span class="linenr">41: </span><span class="org-haskell-definition">sTabbed</span> <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"tabbed"</span>]
<span class="linenr">42: </span>        <span class="org-haskell-operator">$</span> simpleTabbed
<span class="linenr">43: </span><span class="org-haskell-definition">readLayout</span> <span class="org-haskell-operator">=</span> renamed [<span class="org-haskell-constructor">Replace</span> <span class="org-string">"2/3"</span>] (dwmStyle shrinkText myTabConfig (mastered (1<span class="org-haskell-operator">/</span>100) (2<span class="org-haskell-operator">/</span>3) <span class="org-haskell-constructor">Accordion</span>))
<span class="linenr">44: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">tabLayout :: ModifiedLayout (Decoration TabbedDecoration DefaultShrinker) Simplest Window</span>
<span class="linenr">45: </span><span class="org-haskell-definition">tabLayout</span> <span class="org-haskell-operator">=</span> tabbed shrinkText myTabConfig
<span class="linenr">46: </span><span class="org-haskell-definition">vimLayout</span> <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Mirror</span> (mastered (1<span class="org-haskell-operator">/</span>100) (4<span class="org-haskell-operator">/</span>5) <span class="org-haskell-constructor">Accordion</span>)
<span class="linenr">47: </span><span class="org-haskell-definition">tiled</span> <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Tall</span> nmaster delta ratio
<span class="linenr">48: </span><span class="org-haskell-definition">delta</span> <span class="org-haskell-operator">=</span> 3<span class="org-haskell-operator">/</span>100
<span class="linenr">49: </span><span class="org-haskell-definition">ratio</span> <span class="org-haskell-operator">=</span> 1<span class="org-haskell-operator">/</span>2
<span class="linenr">50: </span><span class="org-haskell-definition">nmaster</span> <span class="org-haskell-operator">=</span> 1
<span class="linenr">51: </span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 13: </span>myLayoutHook</label><pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-haskell-definition">myLayoutHook</span> <span class="org-haskell-operator">=</span> avoidStruts
<span class="linenr"> 2: </span>             <span class="org-doc">-- $ toggleLayouts zoom defaultLayouts</span>
<span class="linenr"> 3: </span>             <span class="org-haskell-operator">$</span> smartBorders
<span class="linenr"> 4: </span>             <span class="org-haskell-operator">$</span> showWName'  myShowWNameTheme
<span class="linenr"> 5: </span>             <span class="org-haskell-operator">$</span> mkToggle (single <span class="org-haskell-constructor">NBFULL</span>)
<span class="linenr"> 6: </span>             <span class="org-haskell-operator">$</span> mkToggle (single <span class="org-haskell-constructor">MIRROR</span>)
<span class="linenr"> 7: </span>             <span class="org-haskell-operator">$</span> onWorkspace <span class="org-string">"emacs"</span> <span class="org-haskell-constructor">Simplest</span>
<span class="linenr"> 8: </span>             <span class="org-doc">-- $ onWorkspace wsWEB webLayouts</span>
<span class="linenr"> 9: </span>             <span class="org-haskell-operator">$</span> defaultLayouts
<span class="linenr">10: </span>             <span class="org-haskell-keyword">where</span>
<span class="linenr">11: </span>               <span class="org-comment-delimiter">--</span><span class="org-comment">vidProj  = [wsPythonP, wsHaskell, wsMOV]</span>
<span class="linenr">12: </span>               <span class="org-comment-delimiter">--</span><span class="org-comment">codeProj = [wsKBorgP, wsXmonadP]</span>
<span class="linenr">13: </span>               webLayouts  <span class="org-haskell-operator">=</span>          tall <span class="org-haskell-operator">|||</span> three <span class="org-haskell-operator">|||</span>  tabs
<span class="linenr">14: </span>               <span class="org-comment-delimiter">--</span><span class="org-comment">codeLayouts = noBorders magnify ||| full ||| tall</span>
<span class="linenr">15: </span>               <span class="org-comment-delimiter">--</span><span class="org-comment">maxLayouts  =          full ||| magnify</span>
<span class="linenr">16: </span>               defaultLayouts <span class="org-haskell-operator">=</span> tall
<span class="linenr">17: </span>                                <span class="org-haskell-operator">|||</span> readLayout
<span class="linenr">18: </span>                                <span class="org-haskell-operator">|||</span> tabLayout
<span class="linenr">19: </span>                                <span class="org-haskell-operator">|||</span> vimLayout
<span class="linenr">20: </span>                                <span class="org-haskell-operator">|||</span> tiled
<span class="linenr">21: </span>                                <span class="org-haskell-operator">|||</span> tabs
<span class="linenr">22: </span>                                <span class="org-doc">-- ||| sTabbed</span>
<span class="linenr">23: </span>                                <span class="org-haskell-operator">|||</span> three
<span class="linenr">24: </span>                                <span class="org-haskell-operator">|||</span> <span class="org-haskell-constructor">Simplest</span>
<span class="linenr">25: </span>                                <span class="org-haskell-operator">|||</span> full
<span class="linenr">26: </span>                                <span class="org-haskell-operator">|||</span> grid
<span class="linenr">27: </span>                                <span class="org-haskell-operator">|||</span> wide
<span class="linenr">28: </span>                                <span class="org-haskell-operator">|||</span> floats
<span class="linenr">29: </span>                                <span class="org-haskell-operator">|||</span> magnify
<span class="linenr">30: </span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 14: </span>Gaps and spacing</label><pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">Gaps around and between windows</span>
<span class="linenr"> 2: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">Changes only seem to apply if I log out then in again</span>
<span class="linenr"> 3: </span><span class="org-comment-delimiter">-- </span><span class="org-comment">Dimensions are given as (Border top bottom right left)</span>
<span class="linenr"> 4: </span><span class="org-haskell-definition">mySpacing</span> <span class="org-haskell-operator">=</span> spacingRaw <span class="org-haskell-constructor">True</span>                <span class="org-comment-delimiter">-- </span><span class="org-comment">Only for &gt;1 window</span>
<span class="linenr"> 5: </span>                       <span class="org-comment-delimiter">-- </span><span class="org-comment">The bottom edge seems to look narrower than it is</span>
<span class="linenr"> 6: </span>                       (<span class="org-haskell-constructor">Border</span> 0 15 10 10) <span class="org-comment-delimiter">-- </span><span class="org-comment">Size of screen edge gaps</span>
<span class="linenr"> 7: </span>                       <span class="org-haskell-constructor">True</span>                <span class="org-comment-delimiter">-- </span><span class="org-comment">Enable screen edge gaps</span>
<span class="linenr"> 8: </span>                       (<span class="org-haskell-constructor">Border</span> 5 5 5 5)    <span class="org-comment-delimiter">-- </span><span class="org-comment">Size of window gaps</span>
<span class="linenr"> 9: </span>                       <span class="org-haskell-constructor">True</span>                <span class="org-comment-delimiter">-- </span><span class="org-comment">Enable window gaps</span>
<span class="linenr">10: </span>
<span class="linenr">11: </span><span class="org-haskell-definition">myTabConfig</span> <span class="org-haskell-operator">::</span>  <span class="org-haskell-type">Theme</span>
<span class="linenr">12: </span><span class="org-haskell-definition">myTabConfig</span> <span class="org-haskell-operator">=</span> def { fontName            <span class="org-haskell-operator">=</span> myFont
<span class="linenr">13: </span>                  , activeColor         <span class="org-haskell-operator">=</span> myTabActiveColor
<span class="linenr">14: </span>                  , inactiveColor       <span class="org-haskell-operator">=</span> myTabInactiveColor
<span class="linenr">15: </span>                  , activeBorderColor   <span class="org-haskell-operator">=</span> myTabActiveBorderColor
<span class="linenr">16: </span>                  , inactiveBorderColor <span class="org-haskell-operator">=</span> myTabInactiveBorderColor
<span class="linenr">17: </span>                  , activeTextColor     <span class="org-haskell-operator">=</span> myTabActiveTextColor
<span class="linenr">18: </span>                  , inactiveTextColor   <span class="org-haskell-operator">=</span> myTabInactiveTextColor
<span class="linenr">19: </span>                  }
<span class="linenr">20: </span>
</pre>
</div>

<p>
<a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Layout-ShowWName.html">XMonad-Layout-ShowWName</a>: This is a layout modifier that will show the workspace name (on entering a workspace). Especially usefull as I don't write workspace names in my bar. Every workspace name is a project, defined under <a href="#org0047c41">src/MyWorkspaces</a>.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 15: </span>ShowName configation</label><pre class="src src-haskell"><span class="linenr">1: </span>
<span class="linenr">2: </span><span class="org-haskell-definition">myShowWNameTheme</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SWNConfig</span>
<span class="linenr">3: </span><span class="org-haskell-definition">myShowWNameTheme</span> <span class="org-haskell-operator">=</span> def
<span class="linenr">4: </span>    { swn_font              <span class="org-haskell-operator">=</span> myMediumFont
<span class="linenr">5: </span>    , swn_fade              <span class="org-haskell-operator">=</span> 1.0
<span class="linenr">6: </span>    , swn_bgcolor           <span class="org-haskell-operator">=</span> base03
<span class="linenr">7: </span>    , swn_color             <span class="org-haskell-operator">=</span> base3
<span class="linenr">8: </span>    }
<span class="linenr">9: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org32d87a9" class="outline-2">
<h2 id="org32d87a9">src/MyManageHook.hs</h2>
<div class="outline-text-2" id="text-org32d87a9">
<p>
<b>Modules needed:</b>
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">MyManageHook</span>
<span class="linenr"> 2: </span>(myManageHook)
<span class="linenr"> 3: </span><span class="org-haskell-keyword">where</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Data.List</span> (isInfixOf)
<span class="linenr"> 6: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Data.Ratio</span>
<span class="linenr"> 7: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad</span>
<span class="linenr"> 8: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Hooks.ManageDocks</span>
<span class="linenr"> 9: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Hooks.ManageHelpers</span>
<span class="linenr">10: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">XMonad.StackSet</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">W</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">MyScratchpads</span> (myScratchPads)
<span class="linenr">13: </span><span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.NamedScratchpad</span>
<span class="linenr">14: </span>
</pre>
</div>

<p>
Help functions:
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr">1: </span><span class="org-haskell-definition">titleContains</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">Query</span> <span class="org-haskell-type">Bool</span>
<span class="linenr">2: </span><span class="org-haskell-definition">titleContains</span> string <span class="org-haskell-operator">=</span> fmap (isInfixOf string) title
<span class="linenr">3: </span>
<span class="linenr">4: </span><span class="org-haskell-definition">isZoomNotification</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Query</span> <span class="org-haskell-type">Bool</span>
<span class="linenr">5: </span><span class="org-haskell-definition">isZoomNotification</span> <span class="org-haskell-operator">=</span> className <span class="org-haskell-operator">=?</span> <span class="org-string">"zoom"</span> <span class="org-haskell-operator">&lt;&amp;&amp;&gt;</span> title <span class="org-haskell-operator">=?</span> <span class="org-string">"zoom"</span>
<span class="linenr">6: </span>
</pre>
</div>

<p>
<b><b>Window rules: Manage Hook</b></b>
</p>

<p>
Execute arbitrary actions and WindowSet manipulations when managing
a new window. You can use this to, for example, always float a
particular program, or have a client always appear on a particular
workspace.
</p>

<p>
To find the property name associated with a program, use
</p>

<pre class="example" id="orgbc90618">
   xprop | grep WM_CLASS
</pre>

<p>
and click on the client you're interested in.
</p>

<p>
<b>Update:</b> use <a href="#orgc7ae9e0">Xprop wrapper - xmonpropS</a>
</p>

<p>
To match on the WM<sub>NAME</sub>, you can use 'title' in the same way that
'className' and 'resource' are used below.
</p>

<p>
The class name of an application corresponds to the first
value of WM<sub>CLASS</sub> (“Pidgin”).
The resource corresponds to the second value of WM<sub>CLASS</sub> (also “Pidgin”).
The title corresponds to WM<sub>NAME</sub> (“Buddy List”).
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-haskell-definition">manageSpecific</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">ManageHook</span>
<span class="linenr"> 2: </span><span class="org-haskell-definition">manageSpecific</span> <span class="org-haskell-operator">=</span> composeAll <span class="org-haskell-operator">.</span> concat <span class="org-haskell-operator">$</span>
<span class="linenr"> 3: </span>    [ [ resource   <span class="org-haskell-operator">=?</span> c                     <span class="org-haskell-operator">--&gt;</span> largeFloat <span class="org-haskell-operator">|</span> c <span class="org-haskell-operator">&lt;-</span> floatApps ]
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>    , [ resource   <span class="org-haskell-operator">=?</span> <span class="org-string">"gsimplecal"</span>          <span class="org-haskell-operator">--&gt;</span> doFloatAt' (1554<span class="org-haskell-operator">/</span>1920) (30<span class="org-haskell-operator">/</span>1040) ]
<span class="linenr"> 6: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">, [ className  =? c                     --&gt; doShift ( myWorkspaces !! 0 )| c &lt;- myBrowsers ] TODO IRC</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>    , [ role       <span class="org-haskell-operator">=?</span> <span class="org-string">"gimp-file-open"</span>      <span class="org-haskell-operator">--&gt;</span> doRectFloat (<span class="org-haskell-constructor">W.RationalRect</span> 0.3 0.3 0.9 0.9) ]
<span class="linenr"> 9: </span>    , [ className  <span class="org-haskell-operator">=?</span> <span class="org-string">"Gimp"</span>                <span class="org-haskell-operator">--&gt;</span> doCenterFloat]
<span class="linenr">10: </span>
<span class="linenr">11: </span>    , [ className  <span class="org-haskell-operator">=?</span> <span class="org-string">"zoom"</span> <span class="org-haskell-operator">&lt;&amp;&amp;&gt;</span> titleContains z <span class="org-haskell-operator">--&gt;</span> doFloat <span class="org-haskell-operator">|</span> z <span class="org-haskell-operator">&lt;-</span> myZoomFloats ]
<span class="linenr">12: </span>    , [ isZoomNotification                        <span class="org-haskell-operator">--&gt;</span> doFloat ]
<span class="linenr">13: </span>
<span class="linenr">14: </span>    , [ className  <span class="org-haskell-operator">=?</span> <span class="org-string">"Chromium"</span> <span class="org-haskell-operator">&lt;&amp;&amp;&gt;</span> role <span class="org-haskell-operator">=?</span> <span class="org-string">"GtkFileChooserDialog"</span> <span class="org-haskell-operator">--&gt;</span> largeFloat]
<span class="linenr">15: </span>    , [ (title     <span class="org-haskell-operator">=?</span> <span class="org-string">"emacs-capture"</span> )     <span class="org-haskell-operator">--&gt;</span> smallFloat ]
<span class="linenr">16: </span>
<span class="linenr">17: </span>    , [ (className <span class="org-haskell-operator">=?</span> <span class="org-string">"obs"</span> <span class="org-haskell-operator">&lt;&amp;&amp;&gt;</span> title <span class="org-haskell-operator">=?</span> <span class="org-string">"Scripts"</span> ) <span class="org-haskell-operator">--&gt;</span> largeFloat ]
<span class="linenr">18: </span>    , [ (className <span class="org-haskell-operator">=?</span> <span class="org-string">"obs"</span> <span class="org-haskell-operator">&lt;&amp;&amp;&gt;</span> isDialog ) <span class="org-haskell-operator">--&gt;</span> largeFloat ]
<span class="linenr">19: </span>    ]
<span class="linenr">20: </span>    <span class="org-haskell-keyword">where</span>
<span class="linenr">21: </span>        floatApps  <span class="org-haskell-operator">=</span> [<span class="org-string">"pavucontrol"</span>, <span class="org-string">"myMusic"</span>, <span class="org-string">"xmessage"</span>, <span class="org-string">"myFloat"</span>]
<span class="linenr">22: </span>        obsFloats  <span class="org-haskell-operator">=</span> [ <span class="org-string">"Scripts"</span>]
<span class="linenr">23: </span>        myZoomFloats   <span class="org-haskell-operator">=</span> [<span class="org-string">"Chat"</span>, <span class="org-string">"Participants"</span>, <span class="org-string">"Rooms"</span>] <span class="org-comment-delimiter">-- </span><span class="org-comment">Currently untested for breakout rooms</span>
<span class="linenr">24: </span>        role <span class="org-haskell-operator">=</span> stringProperty <span class="org-string">"WM_WINDOW_ROLE"</span>
<span class="linenr">25: </span>        doMaster <span class="org-haskell-operator">=</span> doF W.shiftMaster <span class="org-comment-delimiter">--</span><span class="org-comment">append this to all floats so new windows always go on top, regardless of the current focus</span>
<span class="linenr">26: </span>        doFloatAt' x y <span class="org-haskell-operator">=</span> doFloatAt x y <span class="org-haskell-operator">&lt;+&gt;</span> doMaster
<span class="linenr">27: </span>
<span class="linenr">28: </span><span class="org-haskell-definition">myManageHook</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">ManageHook</span>
<span class="linenr">29: </span><span class="org-haskell-definition">myManageHook</span> <span class="org-haskell-operator">=</span> manageSpecific <span class="org-haskell-operator">&lt;+&gt;</span> manageDocks  <span class="org-haskell-operator">&lt;+&gt;</span> namedScratchpadManageHook myScratchPads
<span class="linenr">30: </span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span><span class="org-haskell-definition">largeFloat</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">ManageHook</span>
<span class="linenr"> 2: </span><span class="org-haskell-definition">largeFloat</span> <span class="org-haskell-operator">=</span> doFloatDep move
<span class="linenr"> 3: </span>  <span class="org-haskell-keyword">where</span>
<span class="linenr"> 4: </span>    move <span class="org-haskell-operator">::</span> <span class="org-haskell-type">W.RationalRect</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">W.RationalRect</span>
<span class="linenr"> 5: </span>    move <span class="org-haskell-keyword">_</span> <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">W.RationalRect</span> x y w h
<span class="linenr"> 6: </span>    w, h, x, y <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Rational</span>
<span class="linenr"> 7: </span>    w <span class="org-haskell-operator">=</span> 3<span class="org-haskell-operator">/</span>4
<span class="linenr"> 8: </span>    h <span class="org-haskell-operator">=</span> 3<span class="org-haskell-operator">/</span>4
<span class="linenr"> 9: </span>    x <span class="org-haskell-operator">=</span> (1<span class="org-haskell-operator">-</span>w)<span class="org-haskell-operator">/</span>2
<span class="linenr">10: </span>    y <span class="org-haskell-operator">=</span> (1<span class="org-haskell-operator">-</span>h)<span class="org-haskell-operator">/</span>2
<span class="linenr">11: </span>
<span class="linenr">12: </span>
<span class="linenr">13: </span><span class="org-haskell-definition">smallFloat</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">ManageHook</span>
<span class="linenr">14: </span><span class="org-haskell-definition">smallFloat</span> <span class="org-haskell-operator">=</span> doFloatDep move
<span class="linenr">15: </span>  <span class="org-haskell-keyword">where</span>
<span class="linenr">16: </span>    move <span class="org-haskell-operator">::</span> <span class="org-haskell-type">W.RationalRect</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">W.RationalRect</span>
<span class="linenr">17: </span>    move <span class="org-haskell-keyword">_</span> <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">W.RationalRect</span> x y w h
<span class="linenr">18: </span>    w, h, x, y <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Rational</span>
<span class="linenr">19: </span>    w <span class="org-haskell-operator">=</span> 2<span class="org-haskell-operator">/</span>3
<span class="linenr">20: </span>    h <span class="org-haskell-operator">=</span> 1<span class="org-haskell-operator">/</span>4
<span class="linenr">21: </span>    x <span class="org-haskell-operator">=</span> (1<span class="org-haskell-operator">-</span>w)<span class="org-haskell-operator">/</span>2
<span class="linenr">22: </span>    y <span class="org-haskell-operator">=</span> (1<span class="org-haskell-operator">-</span>h)<span class="org-haskell-operator">/</span>2
<span class="linenr">23: </span>
<span class="linenr">24: </span><span class="org-haskell-definition">zoomFloat</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">ManageHook</span>
<span class="linenr">25: </span><span class="org-haskell-definition">zoomFloat</span> <span class="org-haskell-operator">=</span> doFloatDep move
<span class="linenr">26: </span>  <span class="org-haskell-keyword">where</span>
<span class="linenr">27: </span>    move <span class="org-haskell-operator">::</span> <span class="org-haskell-type">W.RationalRect</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">W.RationalRect</span>
<span class="linenr">28: </span>    move <span class="org-haskell-keyword">_</span> <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">W.RationalRect</span> x y w h
<span class="linenr">29: </span>    w, h, x, y <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Rational</span>
<span class="linenr">30: </span>    w <span class="org-haskell-operator">=</span> 1<span class="org-haskell-operator">/</span>4
<span class="linenr">31: </span>    h <span class="org-haskell-operator">=</span> 1<span class="org-haskell-operator">/</span>4
<span class="linenr">32: </span>    x <span class="org-haskell-operator">=</span> (1<span class="org-haskell-operator">-</span>w)<span class="org-haskell-operator">/</span>2
<span class="linenr">33: </span>    y <span class="org-haskell-operator">=</span> (1<span class="org-haskell-operator">-</span>h)<span class="org-haskell-operator">/</span>2
<span class="linenr">34: </span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb861bc1" class="outline-2">
<h2 id="orgb861bc1">src/MyCheatsheet</h2>
<div class="outline-text-2" id="text-orgb861bc1">
<ul class="org-ul">
<li>Source: <a href="https://github.com/quarkQuark/dotfiles/tree/49ab839c7c8ad33c728a1238a2af9ce860abe5dc/.config/xmonad">github.com/quarkQuark/dotfiles</a></li>
</ul>

<p>
<b>Modules needed:</b>
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>    <span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">MyCheatsheet</span>
<span class="linenr"> 2: </span>    (myCheatsheet)
<span class="linenr"> 3: </span>    <span class="org-haskell-keyword">where</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Data.List.Split</span> (chunksOf)
<span class="linenr"> 6: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">System.IO</span>
<span class="linenr"> 7: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Test.FitSpec.PrettyPrint</span> (columns) <span class="org-comment-delimiter">-- </span><span class="org-comment">Requires the 'fitspec' package</span>
<span class="linenr"> 8: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad</span>
<span class="linenr"> 9: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.NamedActions</span>
<span class="linenr">10: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.Run</span>
<span class="linenr">11: </span>
</pre>
</div>

<p>
Pipe key bindings to dzen2:
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">Number of colomns with with which to display the cheatsheet</span>
<span class="linenr"> 2: </span>    myCheatsheetCols <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Int</span>
<span class="linenr"> 3: </span>    myCheatsheetCols <span class="org-haskell-operator">=</span> 3
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">Format the keybindings so they can be sent to the display</span>
<span class="linenr"> 6: </span>    formatList <span class="org-haskell-operator">::</span> [<span class="org-haskell-type">String</span>] <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span>
<span class="linenr"> 7: </span>    formatList list <span class="org-haskell-operator">=</span> columns <span class="org-string">"SeparatorPlaceholder"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">Normalise column widths -&gt; Table</span>
<span class="linenr"> 8: </span>                    <span class="org-haskell-operator">$</span> map unlines <span class="org-comment-delimiter">-- </span><span class="org-comment">Connect the sublists with line breaks -&gt; [column1,column2,...]</span>
<span class="linenr"> 9: </span>                    <span class="org-haskell-operator">$</span> chunksOf (myCheatsheetRows (list))
<span class="linenr">10: </span>                    <span class="org-haskell-operator">$</span> list <span class="org-comment-delimiter">-- </span><span class="org-comment">The list to be formatted</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span>            <span class="org-haskell-keyword">where</span> rowsFromColumns list nCol <span class="org-haskell-operator">=</span> 1 <span class="org-haskell-operator">+</span> length list <span class="org-haskell-operator">`div`</span> nCol
<span class="linenr">13: </span>                  myCheatsheetRows list <span class="org-haskell-operator">=</span> rowsFromColumns list myCheatsheetCols
<span class="linenr">14: </span>
<span class="linenr">15: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">How to display the cheatsheet (adapted from Ethan Schoonover's config)</span>
<span class="linenr">16: </span>    myCheatsheet <span class="org-haskell-operator">::</span> [((<span class="org-haskell-type">KeyMask</span>, <span class="org-haskell-type">KeySym</span>), <span class="org-haskell-type">NamedAction</span>)] <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">NamedAction</span>
<span class="linenr">17: </span>    myCheatsheet myKeyList <span class="org-haskell-operator">=</span> addName <span class="org-string">"Show Keybindings"</span> <span class="org-haskell-operator">$</span> io <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">18: </span>        handle <span class="org-haskell-operator">&lt;-</span> spawnPipe <span class="org-string">"dzen2-display-cheatsheetS"</span>
<span class="linenr">19: </span>        hPutStrLn handle <span class="org-string">"TitlePlaceholder\n"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">Replaced in the script</span>
<span class="linenr">20: </span>        hPutStrLn handle <span class="org-haskell-operator">$</span> formatList (showKm myKeyList)
<span class="linenr">21: </span>        hClose handle
<span class="linenr">22: </span>        return <span class="org-haskell-constructor">()</span>
<span class="linenr">23: </span>
</pre>
</div>

<p>
Script: <code>dzen2-display-cheatsheetS</code>
</p>

<div class="org-src-container">
<pre class="src src-shell">    <span class="org-comment-delimiter">#</span><span class="org-comment">!/usr/bin/sh</span>

    <span class="org-variable-name">font</span>=<span class="org-string">"Mono-10"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Colours</span>
    <span class="org-variable-name">background</span>=<span class="org-string">'#000000'</span>
    <span class="org-variable-name">titleColour</span>=<span class="org-string">'^fg(#00AAAA)'</span>
    <span class="org-variable-name">asideColour</span>=<span class="org-string">'^fg(#666666)'</span>
    <span class="org-variable-name">headingColour</span>=<span class="org-string">'^fg(#FFFFFF)'</span>
    <span class="org-variable-name">keyColourSuper</span>=<span class="org-string">'^fg(#AAAA00)'</span>
    <span class="org-variable-name">keyColourHyper</span>=<span class="org-string">'^fg(#AA88FF)'</span>
    <span class="org-variable-name">keyColourMedia</span>=<span class="org-string">'^fg(#FF8888)'</span>
    <span class="org-variable-name">descColour</span>=<span class="org-string">'^fg(#AAAAAA)'</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Patterns to replace</span>
    <span class="org-variable-name">keyLinesSuper</span>=<span class="org-string">'\(M4-\|Super\)[^ ]*'</span>
    <span class="org-variable-name">keyLinesHyper</span>=<span class="org-string">'M3-[^ ]*'</span>
    <span class="org-variable-name">keyLinesMedia</span>=<span class="org-string">'\(Print\|XF86\|C-\)[^ ]*'</span>
    <span class="org-variable-name">headings</span>=<span class="org-string">'&gt;&gt;'</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Replacement Variables</span>
    <span class="org-variable-name">super</span>=<span class="org-string">"${keyColourSuper}Super(Windows\/Space)${titleColour}"</span>
    <span class="org-variable-name">hyper</span>=<span class="org-string">"${keyColourHyper}Hyper(Caps Lock)${titleColour}"</span>
    <span class="org-variable-name">title</span>=<span class="org-string">"${titleColour}XMonad Keybindings (with the $super or $hyper key)"</span><span class="org-sh-escaped-newline">\</span>
    <span class="org-string">"${asideColour}        -    Click to close"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Screen dimensions, for positioning calculations</span>
    <span class="org-variable-name">screenXY</span>=<span class="org-sh-quoted-exec">`xdpyinfo | awk '/dimensions:/ { print $2 }'`</span>
    <span class="org-variable-name">screenX</span>=${<span class="org-variable-name">screenXY</span>%x*}
    <span class="org-variable-name">screenY</span>=${<span class="org-variable-name">screenXY</span>#*x}

    <span class="org-comment-delimiter"># </span><span class="org-comment">Dimensions</span>
    <span class="org-variable-name">lineHeight</span>=24
    <span class="org-variable-name">lines</span>=42
    <span class="org-variable-name">replaceSeparator</span>=<span class="org-string">"s/SeparatorPlaceholder/    /g"</span>
    <span class="org-variable-name">width</span>=1800
    <span class="org-variable-name">height</span>=<span class="org-sh-quoted-exec">`expr ${lineHeight} \* \( ${lines} + 1 \)`</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Position</span>
    <span class="org-variable-name">xPos</span>=<span class="org-sh-quoted-exec">`expr \( ${screenX} - ${width} \) / 2`</span>
    <span class="org-variable-name">yPos</span>=<span class="org-sh-quoted-exec">`expr \( ${screenY} - ${height} \) / 2`</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Dzen behaviour</span>
    <span class="org-variable-name">eventActions</span>=<span class="org-string">'onstart=uncollapse'</span><span class="org-sh-escaped-newline">\</span>
    <span class="org-string">';button1=exit;button3=exit;key_Escape=exit'</span><span class="org-sh-escaped-newline">\</span>
    <span class="org-string">';button4=scrollup;button5=scrolldown'</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Replace placeholders</span>
    <span class="org-variable-name">replaceTitle</span>=<span class="org-string">"s/TitlePlaceholder/${title}/g"</span>
    <span class="org-variable-name">replaceSuperTap</span>=<span class="org-string">"s/C-Escape/Super   /g"</span>
    <span class="org-variable-name">replaceShift</span>=<span class="org-string">"s/Shift-\([^ ]*\)/S-\1    /g"</span>
    <span class="org-variable-name">replaceSlash</span>=<span class="org-string">"s/slash/\/    /g"</span>
    <span class="org-variable-name">replacePlaceholders</span>=<span class="org-string">"${replaceTitle};${replaceM4};${replaceSuperTap}</span>
<span class="org-string">    ;${replaceShift};${replaceSlash};${replaceSeparator}"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Format colour</span>
    <span class="org-variable-name">colourKeyLinesSuper</span>=<span class="org-string">"s/${keyLinesSuper}/${keyColourSuper}&amp;${descColour}/g"</span>
    <span class="org-variable-name">colourKeyLinesHyper</span>=<span class="org-string">"s/${keyLinesHyper}/${keyColourHyper}&amp;${descColour}/g"</span>
    <span class="org-variable-name">colourKeyLinesMedia</span>=<span class="org-string">"s/${keyLinesMedia}/${keyColourMedia}&amp;${descColour}/g"</span>
    <span class="org-variable-name">colourHeadings</span>=<span class="org-string">"s/${headings}/${headingColour}&amp;/g"</span>
    <span class="org-variable-name">formatColour</span>=<span class="org-string">"${colourKeyLinesSuper};${colourKeyLinesHyper};${colourKeyLinesMedia};${colourHeadings}"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Remove redundancies</span>
    <span class="org-variable-name">removeM4</span>=<span class="org-string">"s/M4-\([^ ]*\)/\1   /g"</span>
    <span class="org-variable-name">removeM3</span>=<span class="org-string">"s/M3-\([^ ]*\)/\1   /g"</span>
    <span class="org-variable-name">screen</span>=<span class="org-string">"s/ S \(.\)/ \1  /g"</span>
    <span class="org-variable-name">removeRedundancies</span>=<span class="org-string">"${removeM4};${removeM3};${screen}"</span>

    <span class="org-variable-name">addMargin</span>=<span class="org-string">"/[^&lt;${title}&gt;]/s/^/  /g"</span>

    sed <span class="org-string">"${replacePlaceholders};${formatColour};${addMargin};${removeRedundancies}"</span> <span class="org-sh-escaped-newline">\</span>
        | dzen2 -p <span class="org-sh-escaped-newline">\</span>
                -bg $<span class="org-variable-name">background</span> <span class="org-sh-escaped-newline">\</span>
                -h <span class="org-string">"$lineHeight"</span> -w <span class="org-string">"$width"</span> -l <span class="org-string">"$lines"</span> <span class="org-sh-escaped-newline">\</span>
                -x <span class="org-string">"$xPos"</span> -y <span class="org-string">"$yPos"</span> <span class="org-sh-escaped-newline">\</span>
                -fn $<span class="org-variable-name">font</span> <span class="org-sh-escaped-newline">\</span>
                -e $<span class="org-variable-name">eventActions</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orgee4ef16" class="outline-2">
<h2 id="orgee4ef16">src/MyScratchpads</h2>
<div class="outline-text-2" id="text-orgee4ef16">
<p>
<a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Util-NamedScratchpad.html">XMonad.Util.NamedScratchpad</a> &#x2013;
</p>

<p>
<b>Modules needed:</b>
</p>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr">1: </span>    <span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">MyScratchpads</span>
<span class="linenr">2: </span>    (myScratchPads)
<span class="linenr">3: </span>    <span class="org-haskell-keyword">where</span>
<span class="linenr">4: </span>
<span class="linenr">5: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad</span>
<span class="linenr">6: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Options</span>
<span class="linenr">7: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.NamedScratchpad</span>
<span class="linenr">8: </span>    <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">XMonad.StackSet</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">W</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-haskell"><span class="linenr"> 1: </span>    <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
<span class="linenr"> 2: </span>    <span class="org-comment-delimiter">-- </span><span class="org-comment">SCRATCHPADS                                                           --</span>
<span class="linenr"> 3: </span>    <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------------------------------------------------</span>
<span class="linenr"> 4: </span>    myScratchPads <span class="org-haskell-operator">::</span> [<span class="org-haskell-type">NamedScratchpad</span>]
<span class="linenr"> 5: </span>    myScratchPads <span class="org-haskell-operator">=</span> [ <span class="org-haskell-constructor">NS</span> <span class="org-string">"scratchpad"</span> spawnTerm findTerm manageTerm
<span class="linenr"> 6: </span>                    , <span class="org-haskell-constructor">NS</span> <span class="org-string">"myPavu"</span> spawnPavu findPavu managePavu
<span class="linenr"> 7: </span>                    , <span class="org-haskell-constructor">NS</span> <span class="org-string">"myMusic"</span> spawnMocp findMocp manageMocp
<span class="linenr"> 8: </span>                    , <span class="org-haskell-constructor">NS</span> <span class="org-string">"myWhatsApp"</span> spawnWhatsApp findWhatsApp manageWhatsApp
<span class="linenr"> 9: </span>                    , <span class="org-haskell-constructor">NS</span> <span class="org-string">"myProtonmail"</span> spawnProtonmail findProtonmail manageProtonmail
<span class="linenr">10: </span>                    ]
<span class="linenr">11: </span>      <span class="org-haskell-keyword">where</span>
<span class="linenr">12: </span>        spawnTerm  <span class="org-haskell-operator">=</span> myTerminal <span class="org-haskell-operator">++</span> <span class="org-string">" --class scratchPad"</span>
<span class="linenr">13: </span>        findTerm   <span class="org-haskell-operator">=</span> resource <span class="org-haskell-operator">=?</span> <span class="org-string">"scratchPad"</span>
<span class="linenr">14: </span>        manageTerm <span class="org-haskell-operator">=</span> customFloating <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">W.RationalRect</span> l t w h
<span class="linenr">15: </span>                   <span class="org-haskell-keyword">where</span>
<span class="linenr">16: </span>                     h <span class="org-haskell-operator">=</span> 0.6
<span class="linenr">17: </span>                     w <span class="org-haskell-operator">=</span> 0.9
<span class="linenr">18: </span>                     t <span class="org-haskell-operator">=</span> 1 <span class="org-haskell-operator">-</span> h     <span class="org-comment-delimiter">-- </span><span class="org-comment">bottom edge</span>
<span class="linenr">19: </span>                     l <span class="org-haskell-operator">=</span> (1 <span class="org-haskell-operator">-</span> w)<span class="org-haskell-operator">/</span>2 <span class="org-comment-delimiter">-- </span><span class="org-comment">centered left/right</span>
<span class="linenr">20: </span>        spawnPavu  <span class="org-haskell-operator">=</span> myAudiocontrol <span class="org-haskell-operator">++</span> <span class="org-string">" --class myPavu"</span>
<span class="linenr">21: </span>        findPavu   <span class="org-haskell-operator">=</span> resource <span class="org-haskell-operator">=?</span> <span class="org-string">"pavucontrol"</span> <span class="org-comment-delimiter">--</span><span class="org-comment">TODO how to catch second field?</span>
<span class="linenr">22: </span>        managePavu <span class="org-haskell-operator">=</span> customFloating <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">W.RationalRect</span> l t w h
<span class="linenr">23: </span>                   <span class="org-haskell-keyword">where</span>
<span class="linenr">24: </span>                     h <span class="org-haskell-operator">=</span> 0.7
<span class="linenr">25: </span>                     w <span class="org-haskell-operator">=</span> 0.7
<span class="linenr">26: </span>                     t <span class="org-haskell-operator">=</span> (1 <span class="org-haskell-operator">-</span> h)<span class="org-haskell-operator">/</span>2 <span class="org-comment-delimiter">-- </span><span class="org-comment">centered top/bottom</span>
<span class="linenr">27: </span>                     l <span class="org-haskell-operator">=</span> (1 <span class="org-haskell-operator">-</span> w)<span class="org-haskell-operator">/</span>2 <span class="org-comment-delimiter">-- </span><span class="org-comment">centered left/right</span>
<span class="linenr">28: </span>        spawnMocp  <span class="org-haskell-operator">=</span> <span class="org-string">"alacritty --class myMusic -e ncmpcpp"</span>
<span class="linenr">29: </span>        findMocp   <span class="org-haskell-operator">=</span> resource <span class="org-haskell-operator">=?</span> <span class="org-string">"myMusic"</span>
<span class="linenr">30: </span>        manageMocp <span class="org-haskell-operator">=</span> customFloating <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">W.RationalRect</span> l t w h
<span class="linenr">31: </span>                   <span class="org-haskell-keyword">where</span>
<span class="linenr">32: </span>                     h <span class="org-haskell-operator">=</span> 0.9
<span class="linenr">33: </span>                     w <span class="org-haskell-operator">=</span> 0.9
<span class="linenr">34: </span>                     t <span class="org-haskell-operator">=</span> 0.95 <span class="org-haskell-operator">-</span>h
<span class="linenr">35: </span>                     l <span class="org-haskell-operator">=</span> 0.95 <span class="org-haskell-operator">-</span>w
<span class="linenr">36: </span>        spawnWhatsApp  <span class="org-haskell-operator">=</span> <span class="org-string">"chromium --app=https://web.whatsapp.com/"</span>
<span class="linenr">37: </span>        findWhatsApp   <span class="org-haskell-operator">=</span> appName <span class="org-haskell-operator">=?</span> <span class="org-string">"web.whatsapp.com"</span>
<span class="linenr">38: </span>        manageWhatsApp <span class="org-haskell-operator">=</span> customFloating <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">W.RationalRect</span> l t w h
<span class="linenr">39: </span>                   <span class="org-haskell-keyword">where</span>
<span class="linenr">40: </span>                     h <span class="org-haskell-operator">=</span> 0.9
<span class="linenr">41: </span>                     w <span class="org-haskell-operator">=</span> 0.9
<span class="linenr">42: </span>                     t <span class="org-haskell-operator">=</span> 0.95 <span class="org-haskell-operator">-</span>h
<span class="linenr">43: </span>                     l <span class="org-haskell-operator">=</span> 0.95 <span class="org-haskell-operator">-</span>w
<span class="linenr">44: </span>        spawnProtonmail  <span class="org-haskell-operator">=</span> <span class="org-string">"chromium --app=https://mail.protonmail.com/"</span>
<span class="linenr">45: </span>        findProtonmail   <span class="org-haskell-operator">=</span> appName <span class="org-haskell-operator">=?</span> <span class="org-string">"mail.protonmail.com"</span>
<span class="linenr">46: </span>        manageProtonmail <span class="org-haskell-operator">=</span> customFloating <span class="org-haskell-operator">$</span> <span class="org-haskell-constructor">W.RationalRect</span> l t w h
<span class="linenr">47: </span>                   <span class="org-haskell-keyword">where</span>
<span class="linenr">48: </span>                     h <span class="org-haskell-operator">=</span> 0.9
<span class="linenr">49: </span>                     w <span class="org-haskell-operator">=</span> 0.9
<span class="linenr">50: </span>                     t <span class="org-haskell-operator">=</span> 0.95 <span class="org-haskell-operator">-</span>h
<span class="linenr">51: </span>                     l <span class="org-haskell-operator">=</span> 0.95 <span class="org-haskell-operator">-</span>w
</pre>
</div>
</div>
</div>
<div id="outline-container-org0047c41" class="outline-2">
<h2 id="org0047c41">src/MyWorkspaces</h2>
<div class="outline-text-2" id="text-org0047c41">
<p>
<a href="https://hackage.haskell.org/package/xmonad-contrib-0.16/docs/XMonad-Actions-DynamicProjects.html">XMonad.Actions.DynamicProjects</a> &#x2013; (From the documentation:) Imbues workspaces with additional features so they can be treated as individual project areas.
</p>

<p>
Instead of using generic workspace names such as 3 or work, DynamicProjects allows you to dedicate workspaces to specific projects and then switch between projects easily.
</p>

<p>
A project is made up of a name, working directory, and a start-up hook. When you switch to a workspace, DynamicProjects changes the working directory to the one configured for the matching project. If the workspace doesn't have any windows, the project's start-up hook is executed. This allows you to launch applications or further configure the workspace/project.
</p>

<p>
When using the switchProjectPrompt function, workspaces are created as needed. This means you can create new project spaces (and therefore workspaces) on the fly. (These dynamic projects are not preserved across restarts.)
</p>

<p>
<b>Modules needed:</b>
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 16: </span>Workspace modules</label><pre class="src src-haskell"><span class="linenr"> 1: </span>  <span class="org-haskell-keyword">module</span> <span class="org-haskell-constructor">MyWorkspaces</span>
<span class="linenr"> 2: </span>    ( projects,
<span class="linenr"> 3: </span>      names
<span class="linenr"> 4: </span>    )
<span class="linenr"> 5: </span>  <span class="org-haskell-keyword">where</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad</span>
<span class="linenr"> 8: </span>  <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Actions.DynamicProjects</span>
<span class="linenr"> 9: </span>  <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Layout.LayoutCombinators</span> (<span class="org-haskell-constructor">JumpToLayout</span> (<span class="org-haskell-operator">..</span>))
<span class="linenr">10: </span>  <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">XMonad.Util.SpawnOnce</span>
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span class="org-haskell-keyword">import</span> <span class="org-haskell-constructor">Options</span>                                                <span class="org-comment-delimiter">-- </span><span class="org-comment">local settings</span>
</pre>
</div>

<p>
To set up a new <code>project</code>, use the following template:
</p>

<pre class="example" id="orge76aab6">
      { projectName = "browsers",              (1)
        projectDirectory = "~/Downloads",      (2)
        projectStartHook = Just $ do
          sendMessage (JumpToLayout "Tall")    (3)
          spawn "qutebrowser"                  (4)
      },
</pre>

<ol class="org-ol">
<li><code>Project name</code> this field is used to switch to the workspace, and in the notification area (if not overwritten with an icon)</li>
<li><code>Project directory</code></li>
<li>Default layout</li>
<li>Using <i>spawn</i> start default applications in <i>that</i> workspace. Terminals will open by default in the directory set in (2)</li>
</ol>

<p>
TODO class needed?
</p>

<p>
<b><b>Key bindings</b></b> - <a href="#org254530f">Project keys</a>
</p>

<p>
<code>Super+&lt;number&gt;</code> is set to the first ten projects, the others can be reached by <code>Super-w</code>.
</p>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 17: </span>My projects</label><pre class="src src-haskell"><span class="linenr"> 1: </span>  projects <span class="org-haskell-operator">::</span> [<span class="org-haskell-type">Project</span>]
<span class="linenr"> 2: </span>  projects <span class="org-haskell-operator">=</span>
<span class="linenr"> 3: </span>    [ <span class="org-haskell-constructor">Project</span>
<span class="linenr"> 4: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"browsers"</span>,
<span class="linenr"> 5: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/Downloads"</span>,
<span class="linenr"> 6: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr"> 7: </span>          sendMessage (<span class="org-haskell-constructor">JumpToLayout</span> <span class="org-string">"Tall"</span>)
<span class="linenr"> 8: </span>          spawn <span class="org-string">"qutebrowser"</span>
<span class="linenr"> 9: </span>      },
<span class="linenr">10: </span>      <span class="org-haskell-constructor">Project</span>
<span class="linenr">11: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"emacs"</span>,
<span class="linenr">12: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/"</span>,
<span class="linenr">13: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">14: </span>          sendMessage (<span class="org-haskell-constructor">JumpToLayout</span> <span class="org-string">"Tall"</span>)
<span class="linenr">15: </span>          spawn <span class="org-string">"emacsclient -c"</span>
<span class="linenr">16: </span>      },
<span class="linenr">17: </span>      <span class="org-haskell-constructor">Project</span>
<span class="linenr">18: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"xmonad"</span>,
<span class="linenr">19: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/Projects/WS"</span>,
<span class="linenr">20: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">21: </span>          sendMessage (<span class="org-haskell-constructor">JumpToLayout</span> <span class="org-string">"Tall"</span>)
<span class="linenr">22: </span>          spawn <span class="org-string">"alacritty"</span>
<span class="linenr">23: </span>      },
<span class="linenr">24: </span>      <span class="org-haskell-constructor">Project</span>
<span class="linenr">25: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"term"</span>,
<span class="linenr">26: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/"</span>,
<span class="linenr">27: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">28: </span>          sendMessage (<span class="org-haskell-constructor">JumpToLayout</span> <span class="org-string">"Tall"</span>)
<span class="linenr">29: </span>          spawn <span class="org-string">"alacritty"</span>
<span class="linenr">30: </span>      },
<span class="linenr">31: </span>      <span class="org-haskell-constructor">Project</span>
<span class="linenr">32: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"scratch"</span>,
<span class="linenr">33: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/Desktop"</span>,
<span class="linenr">34: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Nothing</span>
<span class="linenr">35: </span>      },
<span class="linenr">36: </span>      <span class="org-haskell-constructor">Project</span>
<span class="linenr">37: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"chat"</span>,
<span class="linenr">38: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/Downloads"</span>,
<span class="linenr">39: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">40: </span>          sendMessage (<span class="org-haskell-constructor">JumpToLayout</span> <span class="org-string">"Tall"</span>)
<span class="linenr">41: </span>          spawn <span class="org-string">"alacritty -e tmux attach"</span>
<span class="linenr">42: </span>          spawn <span class="org-string">"alacritty"</span>
<span class="linenr">43: </span>      },
<span class="linenr">44: </span>      <span class="org-haskell-constructor">Project</span>
<span class="linenr">45: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"docs"</span>,
<span class="linenr">46: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/Documents/"</span>,
<span class="linenr">47: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">48: </span>          sendMessage (<span class="org-haskell-constructor">JumpToLayout</span> <span class="org-string">"Tall"</span>)
<span class="linenr">49: </span>          spawn <span class="org-string">"alacritty"</span>
<span class="linenr">50: </span>      },
<span class="linenr">51: </span>      <span class="org-haskell-constructor">Project</span>
<span class="linenr">52: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"tv"</span>,
<span class="linenr">53: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/Video"</span>,
<span class="linenr">54: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">55: </span>          sendMessage (<span class="org-haskell-constructor">JumpToLayout</span> <span class="org-string">"Tabbed"</span>)
<span class="linenr">56: </span>          <span class="org-comment-delimiter">-- </span><span class="org-comment">spawn "alaritty -e ranger"</span>
<span class="linenr">57: </span>          spawn (myTerminal <span class="org-haskell-operator">++</span> <span class="org-string">" -t tv2 --class tv -e ranger"</span>)
<span class="linenr">58: </span>      }
<span class="linenr">59: </span>      <span class="org-haskell-constructor">Project</span>
<span class="linenr">60: </span>      { projectName <span class="org-haskell-operator">=</span> <span class="org-string">"zoom"</span>,
<span class="linenr">61: </span>        projectDirectory <span class="org-haskell-operator">=</span> <span class="org-string">"~/Downloads"</span>,
<span class="linenr">62: </span>        projectStartHook <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Just</span> <span class="org-haskell-operator">$</span> <span class="org-haskell-keyword">do</span>
<span class="linenr">63: </span>          sendMessage (<span class="org-haskell-constructor">JumpToLayout</span> <span class="org-string">"2/3"</span>)
<span class="linenr">64: </span>          spawn <span class="org-string">"zoom"</span>
<span class="linenr">65: </span>          spawn (myTerminal <span class="org-haskell-operator">++</span> <span class="org-string">" --class zoom"</span>)
<span class="linenr">66: </span>      }
<span class="linenr">67: </span>    ]
<span class="linenr">68: </span>
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name"><span class="listing-number">Listing 18: </span>Workspace helper scripts</label><pre class="src src-haskell"><span class="linenr">1: </span>  <span class="org-doc">-- | Names of my workspaces.</span>
<span class="linenr">2: </span>  names <span class="org-haskell-operator">::</span> [<span class="org-haskell-type">WorkspaceId</span>]
<span class="linenr">3: </span>  names <span class="org-haskell-operator">=</span> map projectName projects
<span class="linenr">4: </span>
<span class="linenr">5: </span>  <span class="org-doc">-- | open terminal in current project environment (unsafeSpawn)</span>
<span class="linenr">6: </span>  projRunInTerm <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">X</span> <span class="org-haskell-constructor">()</span>
<span class="linenr">7: </span>  projRunInTerm options command <span class="org-haskell-operator">=</span> asks (terminal <span class="org-haskell-operator">.</span> config) <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>t <span class="org-haskell-operator">-&gt;</span> unsafeSpawn <span class="org-haskell-operator">$</span> t <span class="org-haskell-operator">++</span> <span class="org-string">" "</span> <span class="org-haskell-operator">++</span> <span class="org-string">" --class "</span> <span class="org-haskell-operator">++</span> activateProject  <span class="org-haskell-operator">++</span> options <span class="org-haskell-operator">++</span> <span class="org-string">" -e "</span> <span class="org-haskell-operator">++</span> command
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf0ba2c" class="outline-2">
<h2 id="orgdf0ba2c">External scripts</h2>
<div class="outline-text-2" id="text-orgdf0ba2c">
</div>
<div id="outline-container-org0befd69" class="outline-3">
<h3 id="org0befd69">src/autostartS</h3>
<div class="outline-text-3" id="text-org0befd69">
<p>
Still haven't figured out what's best. Atm I use .xinitrc for most of this.
</p>

<div class="org-src-container">
<pre class="src src-shell">     <span class="org-builtin">echo</span> <span class="org-string">"src/autostartS started - $(date)"</span> &gt;&gt; ~/tmp/xmonad.log
     wallpaper

     <span class="org-keyword">if</span> [ -z <span class="org-string">"$(pgrep unclutter)"</span> ] ; <span class="org-keyword">then</span>
         unclutter --timeout 4 --jitter 10 --ignore-scrolling -b
     <span class="org-keyword">fi</span>

     <span class="org-keyword">if</span> [ -z <span class="org-string">"$(pgrep dunst)"</span> ] ; <span class="org-keyword">then</span>
         dunst &amp;
     <span class="org-keyword">fi</span>

     <span class="org-keyword">if</span> [ -z <span class="org-string">"$(pgrep picom)"</span> ] ; <span class="org-keyword">then</span>
         picom &amp;
     <span class="org-keyword">fi</span>

     <span class="org-keyword">if</span> [ -z <span class="org-string">"$(pgrep redshift)"</span> ] ; <span class="org-keyword">then</span>
         redshift &amp;
     <span class="org-keyword">fi</span>

     <span class="org-comment-delimiter"># </span><span class="org-comment">Daemons</span>
     <span class="org-comment-delimiter">#</span><span class="org-comment">emacs --daemon &amp; Started with systemd</span>
     <span class="org-comment-delimiter">#</span><span class="org-comment">udiskie &amp;</span>
     <span class="org-comment-delimiter">#</span><span class="org-comment">nm-applet --indicator &amp;</span>
     <span class="org-comment-delimiter">#</span><span class="org-comment">lxqt-powermanagement &amp;</span>

     <span class="org-comment-delimiter"># </span><span class="org-comment">Settings</span>
     xrdb -merge <span class="org-string">"$HOME/.config/X11/Xresources"</span> &amp;
     <span class="org-comment-delimiter">#</span><span class="org-comment">xmodmap -e 'add mod3 = Menu'</span>
     <span class="org-comment-delimiter">#</span><span class="org-comment">xmodmap -e "keycode 135 = Hyper_R"</span>
     <span class="org-comment-delimiter">#</span><span class="org-comment">xmodmap -e "add mod3 = Hyper_R"</span>
     <span class="org-comment-delimiter">#</span><span class="org-comment">xmodmap -e "keycode any = Menu" # this is needed for xcape</span>
     <span class="org-comment-delimiter">#</span><span class="org-comment">xcape -e "Hyper_R=Menu" # for single key press on menu key</span>
     setxkbmap -model pc105 -layout us,ru -variant ,phonetic -option grp:shifts_toggle -option ctrl:nocaps <span class="org-comment-delimiter"># </span><span class="org-comment">-option compose:menu</span>
     xmodmap ~/.config/X11/Xmodmap

     xsetroot -grey -cursor_name left_ptr &amp;

</pre>
</div>
</div>
</div>

<div id="outline-container-org111559c" class="outline-3">
<h3 id="org111559c">WM scripts</h3>
<div class="outline-text-3" id="text-org111559c">
</div>
<div id="outline-container-orgc7ae9e0" class="outline-4">
<h4 id="orgc7ae9e0">Xprop wrapper - xmonpropS</h4>
<div class="outline-text-4" id="text-orgc7ae9e0">
<p>
Source: <a href="https://wiki.haskell.org/Xmonad/Frequently_asked_questions#I_need_to_find_the_class_title_or_some_other_X_property_of_my_program">Haskell wiki</a>
</p>

<div class="org-src-container">
<pre class="src src-shell">
       <span class="org-keyword">exec</span> xprop -notype <span class="org-sh-escaped-newline">\</span>
        -f WM_NAME        8s <span class="org-string">':\n  title =\? $0\n'</span> <span class="org-sh-escaped-newline">\</span>
        -f WM_CLASS       8s <span class="org-string">':\n  appName =\? $0\n  className =\? $1\n'</span> <span class="org-sh-escaped-newline">\</span>
        -f WM_WINDOW_ROLE 8s <span class="org-string">':\n  stringProperty "WM_WINDOW_ROLE" =\? $0\n'</span> <span class="org-sh-escaped-newline">\</span>
        WM_NAME WM_CLASS WM_WINDOW_ROLE <span class="org-sh-escaped-newline">\</span>
        ${<span class="org-variable-name">1</span>+<span class="org-string">"$@"</span>}

</pre>
</div>
</div>
</div>

<div id="outline-container-orge40ebd6" class="outline-4">
<h4 id="orge40ebd6">Keyboard indicator Mobar</h4>
<div class="outline-text-4" id="text-orge40ebd6">
<div class="org-src-container">
<pre class="src src-shell">      <span class="org-variable-name">stdlayout</span>=us  <span class="org-comment-delimiter"># </span><span class="org-comment">standard layout takes "default" color</span>
      <span class="org-variable-name">stdname</span>=en-us <span class="org-comment-delimiter"># </span><span class="org-comment">arbitrary, descriptive only</span>

      <span class="org-variable-name">base03</span>=#002b36
      <span class="org-variable-name">base02</span>=#073642
      <span class="org-variable-name">base01</span>=#586e75
      <span class="org-variable-name">base00</span>=#657b83
      <span class="org-variable-name">base0</span>=#839496
      <span class="org-variable-name">base1</span>=#93a1a1
      <span class="org-variable-name">base2</span>=#eee8d5
      <span class="org-variable-name">base3</span>=#fdf6e3
      <span class="org-variable-name">yellow</span>=#b58900
      <span class="org-variable-name">orange</span>=#cb4b16
      <span class="org-variable-name">red</span>=#dc322f
      <span class="org-variable-name">magenta</span>=#d33682
      <span class="org-variable-name">violet</span>=#6c71c4
      <span class="org-variable-name">blue</span>=#268bd2
      <span class="org-variable-name">cyan</span>=#2aa198
      <span class="org-variable-name">green</span>=#859900

      <span class="org-variable-name">layout</span>=<span class="org-string">"$(~/.local/bin/xkblayout-state print "%s")"</span>

      <span class="org-keyword">case</span> $<span class="org-variable-name">layout</span><span class="org-keyword"> in</span>
          ${<span class="org-variable-name">stdlayout</span>}) <span class="org-variable-name">color</span>=$<span class="org-variable-name">green</span>; <span class="org-variable-name">icon</span>=<span class="org-string">"&#61724; "</span>; <span class="org-variable-name">name</span>=$<span class="org-variable-name">stdname</span> ;; <span class="org-comment-delimiter"># </span><span class="org-comment">f11c fa-keyboard-o</span>
          *) <span class="org-variable-name">color</span>=$<span class="org-variable-name">magenta</span>; <span class="org-variable-name">icon</span>=<span class="org-string">"&#61724; "</span>; <span class="org-variable-name">name</span>=<span class="org-string">"russian"</span> ;; <span class="org-comment-delimiter"># </span><span class="org-comment">f11c fa-keyboard-o</span>
      <span class="org-keyword">esac</span>

      <span class="org-builtin">echo</span> <span class="org-string">"&lt;fc=$color&gt;&lt;fn=1&gt;$icon&lt;/fn&gt; ${name}&lt;/fc&gt;"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c50931" class="outline-4">
<h4 id="org5c50931">adjustVolumeS</h4>
<div class="outline-text-4" id="text-org5c50931">
<p>
Pulseaudio version, huge, see <code>adjustVolumeS help</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell">
<span class="org-comment-delimiter">##################################################################</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Polybar Pulseaudio Control                                     #</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">https://github.com/marioortizmanero/polybar-pulseaudio-control #</span>
<span class="org-comment-delimiter">##################################################################</span>
<span class="org-comment-delimiter">#</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Broken by QWxlea</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Defaults for configurable values, expected to be set by command-line arguments</span>
<span class="org-variable-name">msgId</span>=<span class="org-string">"991001"</span>
<span class="org-variable-name">AUTOSYNC</span>=<span class="org-string">"no"</span>
<span class="org-variable-name">COLOR_MUTED</span>=<span class="org-string">"%{F#6b6b6b}"</span>
<span class="org-variable-name">ICON_MUTED</span>=
<span class="org-variable-name">ICON_SINK</span>=
<span class="org-variable-name">NOTIFICATIONS</span>=<span class="org-string">"no"</span>
<span class="org-variable-name">OSD</span>=<span class="org-string">"yes"</span>
<span class="org-variable-name">SINK_NICKNAMES_PROP</span>=
<span class="org-variable-name">VOLUME_STEP</span>=2
<span class="org-variable-name">VOLUME_MAX</span>=130
<span class="org-comment-delimiter"># </span><span class="org-comment">shellcheck disable=SC2016</span>
<span class="org-variable-name">FORMAT</span>=<span class="org-string">'$VOL_ICON ${VOL_LEVEL}%  $ICON_SINK $SINK_NICKNAME'</span>
<span class="org-builtin">declare</span> -A SINK_NICKNAMES
<span class="org-builtin">declare</span> -a ICONS_VOLUME
<span class="org-builtin">declare</span> -a SINK_BLACKLIST

<span class="org-comment-delimiter"># </span><span class="org-comment">Environment &amp; global constants for the script</span>
<span class="org-variable-name">END_COLOR</span>=<span class="org-string">"%{F-}"</span>  <span class="org-comment-delimiter"># </span><span class="org-comment">For Polybar colors</span>
<span class="org-variable-name">LANGUAGE</span>=en_US  <span class="org-comment-delimiter"># </span><span class="org-comment">Some calls depend on English outputs of pactl</span>


<span class="org-comment-delimiter"># </span><span class="org-comment">Saves the currently default sink into a variable named `curSink`. It will</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">return an error code when pulseaudio isn't running.</span>
<span class="org-keyword">function</span> <span class="org-function-name">getCurSink</span>() {
    <span class="org-keyword">if</span> <span class="org-negation-char">!</span> pulseaudio --check; <span class="org-keyword">then return</span> 1; <span class="org-keyword">fi</span>
    <span class="org-variable-name">curSink</span>=$(pacmd list-sinks | awk <span class="org-string">'/\* index:/{print $3}'</span>)
}


<span class="org-comment-delimiter"># </span><span class="org-comment">Saves the sink passed by parameter's volume into a variable named `VOL_LEVEL`.</span>
<span class="org-keyword">function</span> <span class="org-function-name">getCurVol</span>() {
    <span class="org-variable-name">VOL_LEVEL</span>=$(pacmd list-sinks | grep -A 15 <span class="org-string">'index: '"$1"''</span> | grep <span class="org-string">'volume:'</span> | grep -E -v <span class="org-string">'base volume:'</span> | awk -F : <span class="org-string">'{print $3; exit}'</span> | grep -o -P <span class="org-string">'.{0,3}%'</span> | sed <span class="org-string">'s/.$//'</span> | tr -d <span class="org-string">' '</span>)
}


<span class="org-comment-delimiter"># </span><span class="org-comment">Saves the name of the sink passed by parameter into a variable named</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">`sinkName`.</span>
<span class="org-keyword">function</span> <span class="org-function-name">getSinkName</span>() {
    <span class="org-variable-name">sinkName</span>=$(pactl list sinks short | awk -v <span class="org-variable-name">sink</span>=<span class="org-string">"$1"</span> <span class="org-string">'{ if ($1 == sink) {print $2} }'</span>)
}


<span class="org-comment-delimiter"># </span><span class="org-comment">Saves the name to be displayed for the sink passed by parameter into a</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">variable called `SINK_NICKNAME`.</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">If a mapping for the sink name exists, that is used. Otherwise, the string</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">"Sink #&lt;index&gt;" is used.</span>
<span class="org-keyword">function</span> <span class="org-function-name">getNickname</span>() {
    getSinkName <span class="org-string">"$1"</span>
    <span class="org-builtin">unset</span> SINK_NICKNAME

    <span class="org-keyword">if</span> [ -n <span class="org-string">"$sinkName"</span> ] &amp;&amp; [ -n <span class="org-string">"${SINK_NICKNAMES[$sinkName]}"</span> ]; <span class="org-keyword">then</span>
        <span class="org-variable-name">SINK_NICKNAME</span>=<span class="org-string">"${SINK_NICKNAMES[$sinkName]}"</span>
    <span class="org-keyword">elif</span> [ -n <span class="org-string">"$sinkName"</span> ] &amp;&amp; [ -n <span class="org-string">"$SINK_NICKNAMES_PROP"</span> ]; <span class="org-keyword">then</span>
        getNicknameFromProp <span class="org-string">"$SINK_NICKNAMES_PROP"</span> <span class="org-string">"$sinkName"</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">Cache that result for next time</span>
        <span class="org-variable-name">SINK_NICKNAMES</span>[<span class="org-string">"$sinkName"</span>]=<span class="org-string">"$SINK_NICKNAME"</span>
    <span class="org-keyword">fi</span>

    <span class="org-keyword">if</span> [ -z <span class="org-string">"$SINK_NICKNAME"</span> ]; <span class="org-keyword">then</span>
        <span class="org-variable-name">SINK_NICKNAME</span>=<span class="org-string">"Sink #$1"</span>
    <span class="org-keyword">fi</span>
}

<span class="org-comment-delimiter"># </span><span class="org-comment">Gets sink nickname based on a given property.</span>
<span class="org-keyword">function</span> <span class="org-function-name">getNicknameFromProp</span>() {
    <span class="org-builtin">local</span> <span class="org-variable-name">nickname_prop</span>=<span class="org-string">"$1"</span>
    <span class="org-builtin">local</span> <span class="org-variable-name">for_name</span>=<span class="org-string">"$2"</span>

    <span class="org-variable-name">SINK_NICKNAME</span>=
    <span class="org-keyword">while </span><span class="org-builtin">read</span> -r property value; <span class="org-keyword">do</span>
        <span class="org-keyword">case</span> <span class="org-string">"$property"</span><span class="org-keyword"> in</span>
            name:)
                <span class="org-variable-name">sink_name</span>=<span class="org-string">"${value//[&lt;&gt;]/}"</span>
                <span class="org-builtin">unset</span> sink_desc
                ;;
            <span class="org-string">"$nickname_prop"</span>)
                <span class="org-keyword">if</span> [ <span class="org-string">"$sink_name"</span> != <span class="org-string">"$for_name"</span> ]; <span class="org-keyword">then</span>
                    <span class="org-keyword">continue</span>
                <span class="org-keyword">fi</span>
                <span class="org-variable-name">SINK_NICKNAME</span>=<span class="org-string">"${value:3:-1}"</span>
                <span class="org-keyword">break</span>
                ;;
        <span class="org-keyword">esac</span>
    <span class="org-keyword">done</span> &lt; &lt;(pacmd list-sinks)
}

<span class="org-comment-delimiter"># </span><span class="org-comment">Saves the status of the sink passed by parameter into a variable named</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">`isMuted`.</span>
<span class="org-keyword">function</span> <span class="org-function-name">getIsMuted</span>() {
    <span class="org-variable-name">isMuted</span>=$(pacmd list-sinks | grep -A 15 <span class="org-string">"index: $1"</span> | awk <span class="org-string">'/muted/ {print $2; exit}'</span>)
}


<span class="org-comment-delimiter"># </span><span class="org-comment">Saves all the sink inputs of the sink passed by parameter into a string</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">named `sinkInputs`.</span>
<span class="org-keyword">function</span> <span class="org-function-name">getSinkInputs</span>() {
    <span class="org-variable-name">sinkInputs</span>=$(pacmd list-sink-inputs | grep -B 4 <span class="org-string">"sink: $1 "</span> | awk <span class="org-string">'/index:/{print $2}'</span>)
}


<span class="org-keyword">function</span> <span class="org-function-name">volUp</span>() {
    <span class="org-comment-delimiter"># </span><span class="org-comment">Obtaining the current volume from pacmd into $VOL_LEVEL.</span>
    <span class="org-keyword">if</span> <span class="org-negation-char">!</span> getCurSink; <span class="org-keyword">then</span>
        <span class="org-builtin">echo</span> <span class="org-string">"PulseAudio not running"</span>
        <span class="org-keyword">return</span> 1
    <span class="org-keyword">fi</span>
    getCurVol <span class="org-string">"$curSink"</span>
    <span class="org-builtin">local</span> <span class="org-variable-name">maxLimit</span>=$((VOLUME_MAX - VOLUME_STEP))

    <span class="org-comment-delimiter"># </span><span class="org-comment">Checking the volume upper bounds so that if VOLUME_MAX was 100% and the</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">increase percentage was 3%, a 99% volume would top at 100% instead</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">of 102%. If the volume is above the maximum limit, nothing is done.</span>
    <span class="org-keyword">if</span> [ <span class="org-string">"$VOL_LEVEL"</span> -le <span class="org-string">"$VOLUME_MAX"</span> ] &amp;&amp; [ <span class="org-string">"$VOL_LEVEL"</span> -ge <span class="org-string">"$maxLimit"</span> ]; <span class="org-keyword">then</span>
        pactl set-sink-volume <span class="org-string">"$curSink"</span> <span class="org-string">"$VOLUME_MAX%"</span>
    <span class="org-keyword">elif</span> [ <span class="org-string">"$VOL_LEVEL"</span> -lt <span class="org-string">"$maxLimit"</span> ]; <span class="org-keyword">then</span>
        pactl set-sink-volume <span class="org-string">"$curSink"</span> <span class="org-string">"+$VOLUME_STEP%"</span>
    <span class="org-keyword">fi</span>

    <span class="org-keyword">if</span> [ $<span class="org-variable-name">OSD</span> = <span class="org-string">"yes"</span> ]; <span class="org-keyword">then</span> showOSD <span class="org-string">"$curSink"</span>; <span class="org-keyword">fi</span>
    <span class="org-keyword">if</span> [ $<span class="org-variable-name">AUTOSYNC</span> = <span class="org-string">"yes"</span> ]; <span class="org-keyword">then</span> volSync; <span class="org-keyword">fi</span>
}


<span class="org-keyword">function</span> <span class="org-function-name">volDown</span>() {
    <span class="org-comment-delimiter"># </span><span class="org-comment">Pactl already handles the volume lower bounds so that negative values</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">are ignored.</span>
    <span class="org-keyword">if</span> <span class="org-negation-char">!</span> getCurSink; <span class="org-keyword">then</span>
        <span class="org-builtin">echo</span> <span class="org-string">"PulseAudio not running"</span>
        <span class="org-keyword">return</span> 1
    <span class="org-keyword">fi</span>
    pactl set-sink-volume <span class="org-string">"$curSink"</span> <span class="org-string">"-$VOLUME_STEP%"</span>

    <span class="org-keyword">if</span> [ $<span class="org-variable-name">OSD</span> = <span class="org-string">"yes"</span> ]; <span class="org-keyword">then</span> showOSD <span class="org-string">"$curSink"</span>; <span class="org-keyword">fi</span>
    <span class="org-keyword">if</span> [ $<span class="org-variable-name">AUTOSYNC</span> = <span class="org-string">"yes"</span> ]; <span class="org-keyword">then</span> volSync; <span class="org-keyword">fi</span>
}


<span class="org-keyword">function</span> <span class="org-function-name">volSync</span>() {
    <span class="org-keyword">if</span> <span class="org-negation-char">!</span> getCurSink; <span class="org-keyword">then</span>
        <span class="org-builtin">echo</span> <span class="org-string">"PulseAudio not running"</span>
        <span class="org-keyword">return</span> 1
    <span class="org-keyword">fi</span>
    getSinkInputs <span class="org-string">"$curSink"</span>
    getCurVol <span class="org-string">"$curSink"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Every output found in the active sink has their volume set to the</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">current one. This will only be called if $AUTOSYNC is `yes`.</span>
    <span class="org-keyword">for</span> each<span class="org-keyword"> in</span> $<span class="org-variable-name">sinkInputs</span>; <span class="org-keyword">do</span>
        pactl set-sink-input-volume <span class="org-string">"$each"</span> <span class="org-string">"$VOL_LEVEL%"</span>
    <span class="org-keyword">done</span>
}


<span class="org-keyword">function</span> <span class="org-function-name">volMute</span>() {
    <span class="org-comment-delimiter"># </span><span class="org-comment">Switch to mute/unmute the volume with pactl.</span>
    <span class="org-keyword">if</span> <span class="org-negation-char">!</span> getCurSink; <span class="org-keyword">then</span>
        <span class="org-builtin">echo</span> <span class="org-string">"PulseAudio not running"</span>
        <span class="org-keyword">return</span> 1
    <span class="org-keyword">fi</span>
    <span class="org-keyword">if</span> [ <span class="org-string">"$1"</span> = <span class="org-string">"toggle"</span> ]; <span class="org-keyword">then</span>
        getIsMuted <span class="org-string">"$curSink"</span>
        <span class="org-keyword">if</span> [ <span class="org-string">"$isMuted"</span> = <span class="org-string">"yes"</span> ]; <span class="org-keyword">then</span>
            pactl set-sink-mute <span class="org-string">"$curSink"</span> <span class="org-string">"no"</span>
        <span class="org-keyword">else</span>
            pactl set-sink-mute <span class="org-string">"$curSink"</span> <span class="org-string">"yes"</span>
        <span class="org-keyword">fi</span>
    <span class="org-keyword">elif</span> [ <span class="org-string">"$1"</span> = <span class="org-string">"mute"</span> ]; <span class="org-keyword">then</span>
        pactl set-sink-mute <span class="org-string">"$curSink"</span> <span class="org-string">"yes"</span>
    <span class="org-keyword">elif</span> [ <span class="org-string">"$1"</span> = <span class="org-string">"unmute"</span> ]; <span class="org-keyword">then</span>
        pactl set-sink-mute <span class="org-string">"$curSink"</span> <span class="org-string">"no"</span>
    <span class="org-keyword">fi</span>

    <span class="org-keyword">if</span> [ $<span class="org-variable-name">OSD</span> = <span class="org-string">"yes"</span> ]; <span class="org-keyword">then</span> showOSD <span class="org-string">"$curSink"</span>; <span class="org-keyword">fi</span>
}


<span class="org-keyword">function</span> <span class="org-function-name">nextSink</span>() {
    <span class="org-comment-delimiter"># </span><span class="org-comment">The final sinks list, removing the blacklisted ones from the list of</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">currently available sinks.</span>
    <span class="org-keyword">if</span> <span class="org-negation-char">!</span> getCurSink; <span class="org-keyword">then</span>
        <span class="org-builtin">echo</span> <span class="org-string">"PulseAudio not running"</span>
        <span class="org-keyword">return</span> 1
    <span class="org-keyword">fi</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Obtaining a tuple of sink indexes after removing the blacklisted devices</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">with their name.</span>
    <span class="org-variable-name">sinks</span>=()
    <span class="org-builtin">local</span> <span class="org-variable-name">i</span>=0
    <span class="org-keyword">while </span><span class="org-builtin">read</span> -r line; <span class="org-keyword">do</span>
        <span class="org-variable-name">index</span>=$(<span class="org-builtin">echo</span> <span class="org-string">"$line"</span> | cut -f1)
        <span class="org-variable-name">name</span>=$(<span class="org-builtin">echo</span> <span class="org-string">"$line"</span> | cut -f2)

        <span class="org-comment-delimiter"># </span><span class="org-comment">If it's in the blacklist, continue the main loop. Otherwise, add</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">it to the list.</span>
        <span class="org-keyword">for</span> sink<span class="org-keyword"> in</span> <span class="org-string">"${SINK_BLACKLIST[@]}"</span>; <span class="org-keyword">do</span>
            <span class="org-keyword">if</span> [ <span class="org-string">"$sink"</span> = <span class="org-string">"$name"</span> ]; <span class="org-keyword">then</span>
                <span class="org-keyword">continue</span> 2
            <span class="org-keyword">fi</span>
        <span class="org-keyword">done</span>

        <span class="org-variable-name">sinks</span>[$<span class="org-variable-name">i</span>]=<span class="org-string">"$index"</span>
        <span class="org-variable-name">i</span>=$((i + 1))
    <span class="org-keyword">done</span> &lt; &lt;(pactl list short sinks)

    <span class="org-comment-delimiter"># </span><span class="org-comment">If the resulting list is empty, nothing is done</span>
    <span class="org-keyword">if</span> [ ${#<span class="org-variable-name">sinks</span>[@]} -eq 0 ]; <span class="org-keyword">then return</span>; <span class="org-keyword">fi</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">If the current sink is greater or equal than last one, pick the first</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">sink in the list. Otherwise just pick the next sink avaliable.</span>
    <span class="org-builtin">local</span> newSink
    <span class="org-keyword">if</span> [ <span class="org-string">"$curSink"</span> -ge <span class="org-string">"${sinks[-1]}"</span> ]; <span class="org-keyword">then</span>
        <span class="org-variable-name">newSink</span>=${<span class="org-variable-name">sinks</span>[0]}
    <span class="org-keyword">else</span>
        <span class="org-keyword">for</span> sink<span class="org-keyword"> in</span> <span class="org-string">"${sinks[@]}"</span>; <span class="org-keyword">do</span>
            <span class="org-keyword">if</span> [ <span class="org-string">"$curSink"</span> -lt <span class="org-string">"$sink"</span> ]; <span class="org-keyword">then</span>
                <span class="org-variable-name">newSink</span>=$<span class="org-variable-name">sink</span>
                <span class="org-keyword">break</span>
            <span class="org-keyword">fi</span>
        <span class="org-keyword">done</span>
    <span class="org-keyword">fi</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">The new sink is set</span>
    pacmd set-default-sink <span class="org-string">"$newSink"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Move all audio threads to new sink</span>
    <span class="org-builtin">local</span> inputs
    <span class="org-variable-name">inputs</span>=<span class="org-string">"$(pactl list short sink-inputs | cut -f 1)"</span>
    <span class="org-keyword">for</span> i<span class="org-keyword"> in</span> $<span class="org-variable-name">inputs</span>; <span class="org-keyword">do</span>
        pacmd move-sink-input <span class="org-string">"$i"</span> <span class="org-string">"$newSink"</span>
    <span class="org-keyword">done</span>

    <span class="org-keyword">if</span> [ $<span class="org-variable-name">NOTIFICATIONS</span> = <span class="org-string">"yes"</span> ]; <span class="org-keyword">then</span>
        getNickname <span class="org-string">"$newSink"</span>

        <span class="org-keyword">if</span> command -v dunstify &amp;&gt;/dev/null; <span class="org-keyword">then</span>
            <span class="org-variable-name">notify</span>=<span class="org-string">"dunstify --replace 201839192"</span>
        <span class="org-keyword">else</span>
            <span class="org-variable-name">notify</span>=<span class="org-string">"notify-send"</span>
        <span class="org-keyword">fi</span>
        $<span class="org-variable-name">notify</span> <span class="org-string">"PulseAudio"</span> <span class="org-string">"Changed output to $SINK_NICKNAME"</span> --icon=audio-headphones-symbolic &amp;
    <span class="org-keyword">fi</span>
}


<span class="org-comment-delimiter"># </span><span class="org-comment">This function assumes that PulseAudio is already running. It only supports</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">KDE OSDs for now. It will show a system message with the status of the</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">sink passed by parameter, or the currently active one by default.</span>
<span class="org-keyword">function</span> <span class="org-function-name">showOSD</span>() {
    <span class="org-keyword">if</span> [ -z <span class="org-string">"$1"</span> ]; <span class="org-keyword">then</span>
        <span class="org-variable-name">curSink</span>=<span class="org-string">"$1"</span>
    <span class="org-keyword">else</span>
        getCurSink
    <span class="org-keyword">fi</span>
    getCurVol <span class="org-string">"$curSink"</span>
    getIsMuted <span class="org-string">"$curSink"</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">returns "$VOL_LEVEL" "$isMuted"</span>
    <span class="org-keyword">if</span> [[ $<span class="org-variable-name">VOL_LEVEL</span> == 0 || <span class="org-string">"yes"</span> = <span class="org-string">"$isMuted"</span> ]]; <span class="org-keyword">then</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">Show the sound muted notification</span>
        <span class="org-builtin">echo</span> <span class="org-string">"nope"</span>
        dunstify -a <span class="org-string">"changeVolume"</span> -u low -i audio-volume-muted -r <span class="org-string">"$msgId"</span> <span class="org-string">"Volume muted"</span>
    <span class="org-keyword">else</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">Show the volume notification</span>
        <span class="org-keyword">if</span> [ $<span class="org-variable-name">VOL_LEVEL</span> -lt 30 ];<span class="org-keyword">then</span>
            <span class="org-variable-name">ICON</span>=<span class="org-string">"audio-volume-low"</span>
        <span class="org-keyword">elif</span> [ $<span class="org-variable-name">VOL_LEVEL</span> -lt 65 ];<span class="org-keyword">then</span>
            <span class="org-variable-name">ICON</span>=<span class="org-string">"audio-volume-medium"</span>
        <span class="org-keyword">elif</span> [ $<span class="org-variable-name">VOL_LEVEL</span> -lt 100 ];<span class="org-keyword">then</span>
            <span class="org-variable-name">ICON</span>=<span class="org-string">"audio-volume-high"</span>
        <span class="org-keyword">else</span>
            <span class="org-variable-name">ICON</span>=<span class="org-string">"audio-volume-overamplified"</span>
        <span class="org-keyword">fi</span>

        dunstify -a <span class="org-string">"changeVolume"</span> -u low -i <span class="org-string">"$ICON"</span> -r <span class="org-string">"$msgId"</span> <span class="org-sh-escaped-newline">\</span>
                 <span class="org-string">"Volume: ${VOL_LEVEL}%"</span> <span class="org-string">"$(getProgressStringS 10 "&lt;b&gt;&#61713; &lt;/b&gt;" "&#61713; " $VOL_LEVEL)"</span>
    <span class="org-keyword">fi</span>
    <span class="org-comment-delimiter">#</span><span class="org-comment">echo "DB: vol_level:($VOL_LEVEL) isMuted: ($isMuted)"</span>
}


<span class="org-keyword">function</span> <span class="org-function-name">listen</span>() {
    <span class="org-builtin">local</span> <span class="org-variable-name">firstRun</span>=0

    <span class="org-comment-delimiter"># </span><span class="org-comment">Listen for changes and immediately create new output for the bar.</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">This is faster than having the script on an interval.</span>
    <span class="org-variable-name">LANG</span>=$<span class="org-variable-name">LANGUAGE</span> pactl subscribe 2&gt;/dev/null | {
        <span class="org-keyword">while </span><span class="org-builtin">true</span>; <span class="org-keyword">do</span>
            {
                <span class="org-comment-delimiter"># </span><span class="org-comment">If this is the first time just continue and print the current</span>
                <span class="org-comment-delimiter"># </span><span class="org-comment">state. Otherwise wait for events. This is to prevent the</span>
                <span class="org-comment-delimiter"># </span><span class="org-comment">module being empty until an event occurs.</span>
                <span class="org-keyword">if</span> [ $<span class="org-variable-name">firstRun</span> -eq 0 ]; <span class="org-keyword">then</span>
                    <span class="org-variable-name">firstRun</span>=1
                <span class="org-keyword">else</span>
                    <span class="org-builtin">read</span> -r event || <span class="org-keyword">break</span>
                    <span class="org-comment-delimiter"># </span><span class="org-comment">Avoid double events</span>
                    <span class="org-keyword">if ! </span><span class="org-builtin">echo</span> <span class="org-string">"$event"</span> | grep -e <span class="org-string">"on card"</span> -e <span class="org-string">"on sink"</span> -e <span class="org-string">"on server"</span>; <span class="org-keyword">then</span>
                        <span class="org-keyword">continue</span>
                    <span class="org-keyword">fi</span>
                <span class="org-keyword">fi</span>
            } &amp;&gt;/dev/null
            output
        <span class="org-keyword">done</span>
    }
}


<span class="org-keyword">function</span> <span class="org-function-name">output</span>() {
    <span class="org-keyword">if</span> <span class="org-negation-char">!</span> getCurSink; <span class="org-keyword">then</span>
        <span class="org-builtin">echo</span> <span class="org-string">"PulseAudio not running"</span>
        <span class="org-keyword">return</span> 1
    <span class="org-keyword">fi</span>
    getCurVol <span class="org-string">"$curSink"</span>
    getIsMuted <span class="org-string">"$curSink"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Fixed volume icons over max volume</span>
    <span class="org-builtin">local</span> <span class="org-variable-name">iconsLen</span>=${#<span class="org-variable-name">ICONS_VOLUME</span>[@]}
    <span class="org-keyword">if</span> [ <span class="org-string">"$iconsLen"</span> -ne 0 ]; <span class="org-keyword">then</span>
        <span class="org-builtin">local</span> <span class="org-variable-name">volSplit</span>=$((VOLUME_MAX / iconsLen))
        <span class="org-keyword">for</span> i<span class="org-keyword"> in</span> $(seq 1 <span class="org-string">"$iconsLen"</span>); <span class="org-keyword">do</span>
            <span class="org-keyword">if</span> [ $((i * volSplit)) -ge <span class="org-string">"$VOL_LEVEL"</span> ]; <span class="org-keyword">then</span>
                <span class="org-variable-name">VOL_ICON</span>=<span class="org-string">"${ICONS_VOLUME[$((i-1))]}"</span>
                <span class="org-keyword">break</span>
            <span class="org-keyword">fi</span>
        <span class="org-keyword">done</span>
    <span class="org-keyword">else</span>
        <span class="org-variable-name">VOL_ICON</span>=<span class="org-string">""</span>
    <span class="org-keyword">fi</span>

    getNickname <span class="org-string">"$curSink"</span>

    <span class="org-comment-delimiter"># </span><span class="org-comment">Showing the formatted message</span>
    <span class="org-keyword">if</span> [ <span class="org-string">"$isMuted"</span> = <span class="org-string">"yes"</span> ]; <span class="org-keyword">then</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">shellcheck disable=SC2034</span>
        <span class="org-variable-name">VOL_ICON</span>=$<span class="org-variable-name">ICON_MUTED</span>
        <span class="org-builtin">echo</span> <span class="org-string">"${COLOR_MUTED}$(eval echo "$FORMAT")${END_COLOR}"</span>
    <span class="org-keyword">else</span>
        <span class="org-builtin">eval</span> echo <span class="org-string">"$FORMAT"</span>
    <span class="org-keyword">fi</span>
}


<span class="org-keyword">function</span> <span class="org-function-name">usage</span>() {
    <span class="org-builtin">echo</span> <span class="org-string">"\</span>
<span class="org-string">Usage: $0 [OPTION...] ACTION</span>

<span class="org-string">Options: [defaults]</span>
<span class="org-string">  --autosync | --no-autosync            whether to maintain same volume for all</span>
<span class="org-string">                                        programs [$AUTOSYNC]</span>
<span class="org-string">  --color-muted &lt;rrggbb&gt;                color in which to format when muted</span>
<span class="org-string">                                        [${COLOR_MUTED:4:-1}]</span>
<span class="org-string">  --notifications | --no-notifications  whether to show notifications when</span>
<span class="org-string">                                        changing sinks [$NOTIFICATIONS]</span>
<span class="org-string">  --osd | --no-osd                      whether to display KDE's OSD message</span>
<span class="org-string">                                        [$OSD]</span>
<span class="org-string">  --icon-muted &lt;icon&gt;                   icon to use when muted [none]</span>
<span class="org-string">  --icon-sink &lt;icon&gt;                    icon to use for sink [none]</span>
<span class="org-string">  --format &lt;string&gt;                     use a format string to control the output</span>
<span class="org-string">                                        Available variables: \$VOL_ICON,</span>
<span class="org-string">                                        \$VOL_LEVEL, \$ICON_SINK, and</span>
<span class="org-string">                                        \$SINK_NICKNAME</span>
<span class="org-string">                                        [$FORMAT]</span>
<span class="org-string">  --icons-volume &lt;icon&gt;[,&lt;icon&gt;...]     icons for volume, from lower to higher</span>
<span class="org-string">                                        [none]</span>
<span class="org-string">  --volume-max &lt;int&gt;                    maximum volume to which to allow</span>
<span class="org-string">                                        increasing [$VOLUME_MAX]</span>
<span class="org-string">  --volume-step &lt;int&gt;                   step size when inc/decrementing volume</span>
<span class="org-string">                                        [$VOLUME_STEP]</span>
<span class="org-string">  --sink-blacklist &lt;name&gt;[,&lt;name&gt;...]   sinks to ignore when switching [none]</span>
<span class="org-string">  --sink-nicknames-from &lt;prop&gt;          pacmd property to use for sink names,</span>
<span class="org-string">                                        unless overriden by --sink-nickname.</span>
<span class="org-string">                                        Its possible values are listed under</span>
<span class="org-string">                                        the 'properties' key in the output of</span>
<span class="org-string">                                        \`pacmd list-sinks\` [none]</span>
<span class="org-string">  --sink-nickname &lt;name&gt;:&lt;nick&gt;         nickname to assign to given sink name,</span>
<span class="org-string">                                        taking priority over</span>
<span class="org-string">                                        --sink-nicknames-from. May be given</span>
<span class="org-string">                                        multiple times, and 'name' is exactly as</span>
<span class="org-string">                                        listed in the output of</span>
<span class="org-string">                                        \`pactl list sinks short | cut -f2\`</span>
<span class="org-string">                                        [none]</span>

<span class="org-string">Actions:</span>
<span class="org-string">  help              display this message and exit</span>
<span class="org-string">  output            print the PulseAudio status once</span>
<span class="org-string">  listen            listen for changes in PulseAudio to automatically update</span>
<span class="org-string">                    this script's output</span>
<span class="org-string">  up, down          increase or decrease the default sink's volume</span>
<span class="org-string">  mute, unmute      mute or unmute the default sink's audio</span>
<span class="org-string">  togmute           switch between muted and unmuted</span>
<span class="org-string">  next-sink         switch to the next available sink</span>
<span class="org-string">  sync              synchronize all the output streams volume to be the same as</span>
<span class="org-string">                    the current sink's volume</span>

<span class="org-string">Author:</span>
<span class="org-string">    Mario Ortiz Manero</span>
<span class="org-string">More info on GitHub:</span>
<span class="org-string">    https://github.com/marioortizmanero/polybar-pulseaudio-control"</span>
}

<span class="org-keyword">while</span> [[ <span class="org-string">"$1"</span> = --* ]]; <span class="org-keyword">do</span>
    <span class="org-builtin">unset</span> arg
    <span class="org-builtin">unset</span> val
    <span class="org-keyword">if</span> [[ <span class="org-string">"$1"</span> = *=* ]]; <span class="org-keyword">then</span>
        <span class="org-variable-name">arg</span>=<span class="org-string">"${1//=*/}"</span>
        <span class="org-variable-name">val</span>=<span class="org-string">"${1//*=/}"</span>
        <span class="org-builtin">shift</span>
    <span class="org-keyword">else</span>
        <span class="org-variable-name">arg</span>=<span class="org-string">"$1"</span>
        <span class="org-comment-delimiter"># </span><span class="org-comment">Support space-separated values, but also value-less flags</span>
        <span class="org-keyword">if</span> [[ <span class="org-string">"$2"</span> != --* ]]; <span class="org-keyword">then</span>
            <span class="org-variable-name">val</span>=<span class="org-string">"$2"</span>
            <span class="org-builtin">shift</span>
        <span class="org-keyword">fi</span>
        <span class="org-builtin">shift</span>
    <span class="org-keyword">fi</span>

    <span class="org-keyword">case</span> <span class="org-string">"$arg"</span><span class="org-keyword"> in</span>
        --autosync)
            <span class="org-variable-name">AUTOSYNC</span>=yes
            ;;
        --no-autosync)
            <span class="org-variable-name">AUTOSYNC</span>=no
            ;;
        --color-muted|--colour-muted)
            <span class="org-variable-name">COLOR_MUTED</span>=<span class="org-string">"%{F#$val}"</span>
            ;;
        --notifications)
            <span class="org-variable-name">NOTIFICATIONS</span>=yes
            ;;
        --no-notifications)
            <span class="org-variable-name">NOTIFICATIONS</span>=no
            ;;
        --osd)
            <span class="org-variable-name">OSD</span>=yes
            ;;
        --no-osd)
            <span class="org-variable-name">OSD</span>=no
            ;;
        --icon-muted)
            <span class="org-variable-name">ICON_MUTED</span>=<span class="org-string">"$val"</span>
            ;;
        --icon-sink)
            <span class="org-comment-delimiter"># </span><span class="org-comment">shellcheck disable=SC2034</span>
            <span class="org-variable-name">ICON_SINK</span>=<span class="org-string">"$val"</span>
            ;;
        --icons-volume)
            <span class="org-variable-name">IFS</span>=, read -r -a ICONS_VOLUME &lt;&lt;&lt; <span class="org-string">"$val"</span>
            ;;
        --volume-max)
            <span class="org-variable-name">VOLUME_MAX</span>=<span class="org-string">"$val"</span>
            ;;
        --volume-step)
            <span class="org-variable-name">VOLUME_STEP</span>=<span class="org-string">"$val"</span>
            ;;
        --sink-blacklist)
            <span class="org-variable-name">IFS</span>=, read -r -a SINK_BLACKLIST &lt;&lt;&lt; <span class="org-string">"$val"</span>
            ;;
        --sink-nicknames-from)
            <span class="org-variable-name">SINK_NICKNAMES_PROP</span>=<span class="org-string">"$val"</span>
            ;;
        --sink-nickname)
            <span class="org-variable-name">SINK_NICKNAMES</span>[<span class="org-string">"${val//:*/}"</span>]=<span class="org-string">"${val//*:}"</span>
            ;;
        --format)
            <span class="org-variable-name">FORMAT</span>=<span class="org-string">"$val"</span>
            ;;
        *)
            <span class="org-builtin">echo</span> <span class="org-string">"Unrecognised option: $arg"</span> &gt;&amp;2
            <span class="org-keyword">exit</span> 1
            ;;
    <span class="org-keyword">esac</span>
<span class="org-keyword">done</span>

<span class="org-keyword">case</span> <span class="org-string">"$1"</span><span class="org-keyword"> in</span>
    up)
        volUp
        ;;
    down)
        volDown
        ;;
    togmute)
        volMute toggle
        ;;
    mute)
        volMute mute
        ;;
    unmute)
        volMute unmute
        ;;
    sync)
        volSync
        ;;
    listen)
        listen
        ;;
    next-sink)
        nextSink
        ;;
    output)
        output
        ;;
    help)
        usage
        ;;
    *)
        <span class="org-builtin">echo</span> <span class="org-string">"Unrecognised action: $1"</span> &gt;&amp;2
        <span class="org-keyword">exit</span> 1
        ;;
<span class="org-keyword">esac</span>
</pre>
</div>

<p>
Alsa version, sometimes got stuck, unused
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="org-comment-delimiter"># </span><span class="org-comment">changeVolume</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Source: https://wiki.archlinux.org/index.php/Dunst#Appearance</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Arbitrary but unique message id</span>
<span class="org-variable-name">msgId</span>=<span class="org-string">"991049"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Change the volume using alsa(might differ if you use pulseaudio)</span>
amixer -c 0 set Master <span class="org-string">"$@"</span> &gt; /dev/null

<span class="org-comment-delimiter"># </span><span class="org-comment">Query amixer for the current volume and whether or not the speaker is muted</span>
<span class="org-variable-name">volume</span>=<span class="org-string">"$(amixer -c 0 get Master | tail -1 | awk '{print $4}' | sed 's/[^0-9]*//g')"</span>
<span class="org-variable-name">mute</span>=<span class="org-string">"$(amixer -c 0 get Master | tail -1 | awk '{print $6}' | sed 's/[^a-z]*//g')"</span>
<span class="org-keyword">if</span> [[ $<span class="org-variable-name">volume</span> == 0 || <span class="org-string">"$mute"</span> == <span class="org-string">"off"</span> ]]; <span class="org-keyword">then</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">Show the sound muted notification</span>
    dunstify -a <span class="org-string">"changeVolume"</span> -u low -i audio-volume-muted -r <span class="org-string">"$msgId"</span> <span class="org-string">"Volume muted"</span>
<span class="org-keyword">else</span>
    <span class="org-comment-delimiter"># </span><span class="org-comment">Show the volume notification</span>
    dunstify -a <span class="org-string">"changeVolume"</span> -u low -i audio-volume-high -r <span class="org-string">"$msgId"</span> <span class="org-sh-escaped-newline">\</span>
    <span class="org-string">"Volume: ${volume}%"</span> <span class="org-string">"$(getProgressStringS 10 "&lt;b&gt;&#61713; &lt;/b&gt;" "&#61713; " $volume)"</span>
<span class="org-keyword">fi</span>
</pre>
</div>

<p>
Helperscript.
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="org-comment-delimiter"># </span><span class="org-comment">getProgressString &lt;TOTAL ITEMS&gt; &lt;FILLED LOOK&gt; &lt;NOT FILLED LOOK&gt; &lt;STATUS&gt;</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">For instance:</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">$ getProgressString 10 "#" "-" 50</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">#####-----</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Note: if you want to use | in your progress bar string you need to change the delimiter in the sed commands</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">Source: https://github.com/Fabian-G/dotfiles/blob/master/scripts/bin/getProgressString</span>

<span class="org-variable-name">ITEMS</span>=<span class="org-string">"$1"</span> <span class="org-comment-delimiter"># </span><span class="org-comment">The total number of items(the width of the bar)</span>
<span class="org-variable-name">FILLED_ITEM</span>=<span class="org-string">"$2"</span> <span class="org-comment-delimiter"># </span><span class="org-comment">The look of a filled item</span>
<span class="org-variable-name">NOT_FILLED_ITEM</span>=<span class="org-string">"$3"</span> <span class="org-comment-delimiter"># </span><span class="org-comment">The look of a not filled item</span>
<span class="org-variable-name">STATUS</span>=<span class="org-string">"$4"</span> <span class="org-comment-delimiter"># </span><span class="org-comment">The current progress status in percent</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">calculate how many items need to be filled and not filled</span>
<span class="org-variable-name">FILLED_ITEMS</span>=$(<span class="org-builtin">echo</span> <span class="org-string">"((${ITEMS} * ${STATUS})/100 + 0.5) / 1"</span> | bc)
<span class="org-variable-name">NOT_FILLED_ITEMS</span>=$(<span class="org-builtin">echo</span> <span class="org-string">"$ITEMS - $FILLED_ITEMS"</span> | bc)

<span class="org-comment-delimiter"># </span><span class="org-comment">Assemble the bar string</span>
<span class="org-variable-name">msg</span>=$(printf <span class="org-string">"%${FILLED_ITEMS}s"</span> | sed <span class="org-string">"s| |${FILLED_ITEM}|g"</span>)
<span class="org-variable-name">msg</span>=${<span class="org-variable-name">msg</span>}$(printf <span class="org-string">"%${NOT_FILLED_ITEMS}s"</span> | sed <span class="org-string">"s| |${NOT_FILLED_ITEM}|g"</span>)
<span class="org-builtin">echo</span> <span class="org-string">"$msg"</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4459fa3" class="outline-4">
<h4 id="org4459fa3">toggleTouchpadS</h4>
<div class="outline-text-4" id="text-org4459fa3">
<div class="org-src-container">
<pre class="src src-shell"><span class="org-variable-name">msgId</span>=<span class="org-string">"991050"</span>
<span class="org-variable-name">device</span>=<span class="org-string">"$(xinput list | grep -P '(?&lt;= )[\w\s:]*(?i)(touchpad|synaptics)(?-i).*?(?=\s*id)' -o | head -n1)"</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">If it was activated disable it and if it wasn't disable it</span>
<span class="org-keyword">if</span> [[ <span class="org-string">"$(xinput list-props "$device" | grep -P ".*Device Enabled.*\K.(?=$)" -o)"</span> == <span class="org-string">"1"</span> ]];<span class="org-keyword">then</span>
    xinput disable <span class="org-string">"$device"</span>
    dunstify -a <span class="org-string">"changeVolume"</span> -u low -i audio-volume-muted -r <span class="org-string">"$msgId"</span> <span class="org-string">"Touchpad off"</span>
<span class="org-keyword">else</span>
    xinput enable <span class="org-string">"$device"</span>
    dunstify -a <span class="org-string">"changeVolume"</span> -u low -i audio-volume-muted -r <span class="org-string">"$msgId"</span> <span class="org-string">"Touchpad on"</span>
<span class="org-keyword">fi</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge1fecc7" class="outline-4">
<h4 id="orge1fecc7">backlightS</h4>
<div class="outline-text-4" id="text-orge1fecc7">
<p>
Orig: <a href="https://github.com/Fabian-G/dotfiles/blob/master/scripts/bin/changeBrightness">Fabian-G</a>
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="org-variable-name">msgId</span>=<span class="org-string">"981141"</span>
xbacklight -time 0 -steps 1 <span class="org-string">"$@"</span>
<span class="org-variable-name">exactBrightness</span>=$(xbacklight -get)
<span class="org-variable-name">brightness</span>=$(<span class="org-builtin">echo</span> <span class="org-string">"(${exactBrightness} + 0.5) / 1"</span> | bc)
dunstify -a <span class="org-string">"changeBrightness"</span> -u low -i display-brightness-symbolic.symbolic -r <span class="org-string">"$msgId"</span> <span class="org-sh-escaped-newline">\</span>
<span class="org-string">"Brightness: ${brightness}%"</span> <span class="org-string">"$(getProgressStringS 10 "&#61713; " "&#61915; " $exactBrightness)"</span>


</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org3a684ff" class="outline-3">
<h3 id="org3a684ff">Sysadmin scripts</h3>
<div class="outline-text-3" id="text-org3a684ff">
</div>
<div id="outline-container-org77606c5" class="outline-4">
<h4 id="org77606c5">menuEditConfigsS</h4>
<div class="outline-text-4" id="text-org77606c5">
<div class="org-src-container">
<pre class="src src-shell"><span class="org-comment-delimiter"># </span><span class="org-comment">Adapted from https://www.gitlab.com/dwt1/dotfiles/-/blob/master/.dmenu/dmenu-edit-configs.sh</span>

<span class="org-function-name">die</span>() {
    <span class="org-builtin">echo</span> <span class="org-string">"Error: $@"</span>
    <span class="org-keyword">exit</span> 1
    }
[ -z <span class="org-string">"$1"</span> ] &amp;&amp; die <span class="org-string">"This must be called with arguments"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Command line arguments</span>
<span class="org-variable-name">MENU_CMD</span>=$<span class="org-variable-name">1</span>
<span class="org-variable-name">EDITOR_CMD</span>=$<span class="org-variable-name">2</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Options to pass to the menu program (list of config file names)</span>
<span class="org-variable-name">options</span>=<span class="org-string">"alacritty</span>
<span class="org-string">zshrc</span>
<span class="org-string">zshenv</span>
<span class="org-string">zprofile</span>
<span class="org-string">aliases</span>
<span class="org-string">picom</span>
<span class="org-string">qutebrowser</span>
<span class="org-string">xmonad.hs</span>
<span class="org-string">Xresources</span>
<span class="org-string">quit"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Choose one of the files, using $MENU_CMD</span>
<span class="org-variable-name">choice</span>=<span class="org-sh-quoted-exec">`echo "$options" | $MENU_CMD "Edit config file: "`</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Find the path to the chosen file</span>
<span class="org-keyword">case</span> <span class="org-string">"$choice"</span><span class="org-keyword"> in</span>
    alacritty)
        <span class="org-variable-name">file</span>=<span class="org-string">"$HOME/.config/alacritty/base.yml"</span>
    ;;
    zshrc)
        <span class="org-variable-name">file</span>=<span class="org-string">"$ZDOTDIR/.zshrc"</span>
    ;;
    zshenv)
        <span class="org-variable-name">file</span>=<span class="org-string">"$ZDOTDIR/.zshenv"</span>
    ;;
    aliases)
        <span class="org-variable-name">file</span>=<span class="org-string">"$HOME/.config/shell/aliasrc"</span>
    ;;
    picom)
        <span class="org-variable-name">file</span>=<span class="org-string">"$HOME/.config/picom/picom.conf"</span>
    ;;
    zprofile)
        <span class="org-variable-name">file</span>=<span class="org-string">"$ZDOTDIR/.zprofile"</span>
    ;;
    qutebrowser)
        <span class="org-variable-name">file</span>=<span class="org-string">"$HOME/.config/qutebrowser/config.py"</span>
    ;;
    qutebrowser)
        <span class="org-variable-name">file</span>=<span class="org-string">"$HOME/.config/qutebrowser/config.py"</span>
    ;;
    xmonad.hs)
        <span class="org-variable-name">file</span>=<span class="org-string">"$HOME/Projects/WS/ws.org"</span>
    ;;
    *)
        <span class="org-keyword">exit</span> 1
    ;;
<span class="org-keyword">esac</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Edit the chosen file, with the user-specified program</span>
$<span class="org-variable-name">EDITOR_CMD</span> <span class="org-string">"$file"</span>

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org196add6" class="outline-3">
<h3 id="org196add6">Screenshots</h3>
<div class="outline-text-3" id="text-org196add6">
<p>
super + Print
dmenurecord
super + Delete
dmenurecord kill
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="org-variable-name">APP</span>=<span class="org-string">"maim"</span>
<span class="org-variable-name">LOCATION</span>=<span class="org-string">"$HOME/Pictures/Screenshots"</span>
<span class="org-variable-name">FNAME</span>=<span class="org-string">"screenshot-$(date '+%Y-%m-%d-%H:%M:%S').png"</span>
<span class="org-variable-name">TARGET</span>=<span class="org-string">"$LOCATION/$FNAME"</span>
<span class="org-variable-name">SMALL</span>=<span class="org-string">"/tmp/$FNAME.tmp"</span>
<span class="org-variable-name">CHOICE</span>=<span class="org-string">"Fullscreen"</span>

mkdir -p <span class="org-string">"$LOCATION"</span>

<span class="org-function-name">shoot</span>() {
    <span class="org-variable-name">CHOICE</span>=$(printf <span class="org-string">"Selected area\\nCurrent window\\nFull screen\\nSelected area (copy)\\nCurrent window (copy)\\nFll screen (copy)"</span> | rofi -dmenu -l 6 -i -p <span class="org-string">"Screenshot which area?"</span>)

    <span class="org-keyword">case</span> <span class="org-string">"$CHOICE"</span><span class="org-keyword"> in</span>

        <span class="org-string">"Selected area"</span>)
            maim -s <span class="org-string">"$TARGET"</span> ;;
        <span class="org-string">"Current window"</span>)
            maim -i <span class="org-string">"$(xdotool getactivewindow)"</span>  <span class="org-string">"$TARGET"</span> ;;
        <span class="org-string">"Full screen"</span>)
            sleep 0.5 &amp;&amp; maim  <span class="org-string">"$TARGET"</span> <span class="org-comment-delimiter">#</span><span class="org-comment">Don't want the menu</span>
            ;;
        <span class="org-string">"Selected area (copy)"</span>)
            maim -s |tee <span class="org-string">"$TARGET"</span> | xclip -selection clipboard -t image/png ;;
        <span class="org-string">"Current window (copy)"</span>)
            maim -i <span class="org-string">"$(xdotool getactivewindow)"</span> |tee <span class="org-string">"$TARGET"</span> | xclip -selection clipboard -t image/png ;;
        <span class="org-string">"Full screen (copy)"</span>)
            sleep 0.5 &amp;&amp; maim |tee <span class="org-string">"$TARGET"</span> | xclip -selection clipboard -t image/png ;;
    <span class="org-keyword">esac</span>
}

<span class="org-function-name">notify</span>() {
    convert <span class="org-string">"$TARGET"</span> -resize 128x128  <span class="org-string">"$SMALL"</span>
    notify-send <span class="org-string">"$CHOICE"</span> <span class="org-string">"screen-\nshot"</span> -i <span class="org-string">"$SMALL"</span>
    rm <span class="org-string">"$SMALL"</span>
}

<span class="org-function-name">usage</span>() {
    cat &lt;&lt;-EOF
<span class="org-sh-heredoc">     $(basename $0) -h -n</span>
<span class="org-sh-heredoc">     -h this message</span>
<span class="org-sh-heredoc">     -n screenshot</span>
<span class="org-sh-heredoc">      If you use the script with -n, you get a fullscreen screenshot,</span>
<span class="org-sh-heredoc">     otherwise:</span>
<span class="org-sh-heredoc">     - Selected area</span>
<span class="org-sh-heredoc">     - Current window</span>
<span class="org-sh-heredoc">     - Full screen</span>
<span class="org-sh-heredoc">     - Selected area (copy)</span>
<span class="org-sh-heredoc">     - Current window (copy)</span>
<span class="org-sh-heredoc">     - Full screen (copy)</span>
<span class="org-sh-heredoc">EOF</span>
    <span class="org-keyword">exit</span>
}

<span class="org-keyword">while </span><span class="org-builtin">getopts</span> <span class="org-string">"hn"</span> opt; <span class="org-keyword">do</span>
    <span class="org-keyword">case</span> $<span class="org-variable-name">opt</span><span class="org-keyword"> in</span>
        n)
            $<span class="org-variable-name">APP</span> <span class="org-string">"$TARGET"</span> &amp;&amp; notify
            <span class="org-keyword">exit</span>
            ;;
        *) usage ;;
    <span class="org-keyword">esac</span>
<span class="org-keyword">done</span>

shoot &amp;&amp; notify
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org45976d0" class="outline-2">
<h2 id="org45976d0">Xmobar</h2>
<div class="outline-text-2" id="text-org45976d0">
<p>
Three kind of fonts used, regular, bold for the time, and font-awesome for icons.
Colors the same as in <code>xmonad.hs</code>.
</p>

<div class="org-src-container">
<pre class="src src-haskell">  <span class="org-haskell-constructor">Config</span> { position   <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Top</span>
           , font              <span class="org-haskell-operator">=</span> <span class="org-string">"xft:Source Code Pro:size=9:bold:antialias=true"</span>
           , additionalFonts   <span class="org-haskell-operator">=</span> [ <span class="org-string">"xft:FontAwesome:pixelsize=16:antialias=true:hinting=true:style=Bold"</span>,
                                   <span class="org-string">"xft:Noto Sans:size=10:style=Bold"</span>]
           , fgColor  <span class="org-haskell-operator">=</span> <span class="org-string">"#ffffff"</span>
           , bgColor  <span class="org-haskell-operator">=</span> <span class="org-string">"#000000"</span>
           , alpha    <span class="org-haskell-operator">=</span> 150  <span class="org-comment-delimiter">-- </span><span class="org-comment">0 transparent, 255 opaque</span>
           , sepChar  <span class="org-haskell-operator">=</span> <span class="org-string">"%"</span>
           , alignSep <span class="org-haskell-operator">=</span> <span class="org-string">"}{"</span>
           , template <span class="org-haskell-operator">=</span> <span class="org-string">" %StdinReader% }{ %cpu%  %memory%  %coretemp% %wi%  %battery% %keyb% | %date% "</span>
           , commands <span class="org-haskell-operator">=</span> [ <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">StdinReader</span>
                        <span class="org-comment-delimiter">--</span><span class="org-comment">, Run Date "%_I:%M" "time" 300 -- every 30s</span>
                        <span class="org-comment-delimiter">--</span><span class="org-comment">, Run Date "%A %_d %B" "date" 18000 -- every 30min</span>
                        <span class="org-comment-delimiter">-- </span><span class="org-comment">CPU core temperature</span>
                        , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">CoreTemp</span> [ <span class="org-string">"--template"</span> , <span class="org-string">"&lt;core0&gt;/&lt;core1&gt;&#176;C"</span>
                                       , <span class="org-string">"--Low"</span>      , <span class="org-string">"70"</span>
                                       , <span class="org-string">"--High"</span>     , <span class="org-string">"80"</span>
                                       , <span class="org-string">"--low"</span>      , <span class="org-string">"#33BB33"</span>
                                       , <span class="org-string">"--normal"</span>   , <span class="org-string">"#AA8800"</span>
                                       , <span class="org-string">"--high"</span>     , <span class="org-string">"#FF0000"</span>
                                       ] 50 <span class="org-comment-delimiter">-- </span><span class="org-comment">every 5s</span>
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Com</span> <span class="org-string">"myKbS"</span> <span class="org-haskell-constructor">[]</span> <span class="org-string">"keyb"</span> 20
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Cpu</span> [ <span class="org-string">"--template"</span>, <span class="org-string">"&lt;fc=#a9a1e1&gt;&lt;fn=1&gt;&#61573;&lt;/fn&gt;&lt;/fc&gt; &lt;total&gt;%"</span>
                                <span class="org-comment-delimiter">--</span><span class="org-comment">, "--normal","#bbc2cf"</span>
                                , <span class="org-string">"-L"</span>, <span class="org-string">"40"</span>
                                , <span class="org-string">"-H"</span>, <span class="org-string">"60"</span>
                                , <span class="org-string">"-l"</span>, <span class="org-string">"#586e75"</span>
                                , <span class="org-string">"-h"</span>, <span class="org-string">"#dc322f"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">red</span>
                                ] 50
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Memory</span> [<span class="org-string">"-t"</span>,<span class="org-string">"&lt;fc=#51afef&gt;&lt;fn=1&gt;&#62171;&lt;/fn&gt;&lt;/fc&gt; &lt;usedratio&gt;%"</span>
                                    , <span class="org-string">"-H"</span>,<span class="org-string">"80"</span>
                                    , <span class="org-string">"-L"</span>,<span class="org-string">"10"</span>
                                    , <span class="org-string">"-l"</span>, <span class="org-string">"#586e75"</span>
                                    , <span class="org-string">"-h"</span>, <span class="org-string">"#268bd2"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">blue, just to differentiate from cpu bar</span>
                                    ] 50
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Wireless</span> <span class="org-string">""</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">will match any wireless device</span>
                         [ <span class="org-string">"-a"</span>, <span class="org-string">"l"</span>
                         , <span class="org-string">"-x"</span>, <span class="org-string">"-"</span>
                         <span class="org-comment-delimiter">--</span><span class="org-comment">, "-t", "&lt;fc=#6c71c4&gt;&lt;fn=1&gt;\xf1eb&lt;/fn&gt; &lt;essid&gt; &lt;quality&gt;%&lt;/fc&gt;"</span>
                         , <span class="org-string">"-t"</span>, <span class="org-string">"&lt;fc=#6c71c4&gt;&lt;fn=1&gt;\xf1eb&lt;/fn&gt; &lt;essid&gt;"</span>
                         , <span class="org-string">"-L"</span>, <span class="org-string">"50"</span>
                         , <span class="org-string">"-H"</span>, <span class="org-string">"75"</span>
                         <span class="org-comment-delimiter">-- </span><span class="org-comment">, "-l", "#dc322f" -- red</span>
                         , <span class="org-string">"-l"</span>, <span class="org-string">"#6c71c4"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">violet</span>
                         , <span class="org-string">"-n"</span>, <span class="org-string">"#6c71c4"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">violet</span>
                         , <span class="org-string">"-h"</span>, <span class="org-string">"#6c71c4"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">violet</span>
                         ] 10
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Battery</span>
                         [ <span class="org-string">"-t"</span>, <span class="org-string">"&lt;fc=#b58900&gt;&lt;acstatus&gt;&lt;/fc&gt;"</span>
                         , <span class="org-string">"-L"</span>, <span class="org-string">"20"</span>
                         , <span class="org-string">"-H"</span>, <span class="org-string">"85"</span>
                         , <span class="org-string">"-l"</span>, <span class="org-string">"#dc322f"</span>
                         , <span class="org-string">"-n"</span>, <span class="org-string">"#b58900"</span>
                         , <span class="org-string">"-h"</span>, <span class="org-string">"#b58900"</span>
                         , <span class="org-string">"--"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">battery specific options</span>
                         <span class="org-comment-delimiter">-- </span><span class="org-comment">discharging status</span>
                         , <span class="org-string">"-o"</span>  , <span class="org-string">"&lt;fn=1&gt;\xf242&lt;/fn&gt; &lt;left&gt;% (&lt;timeleft&gt;) &lt;watts&gt;"</span>
                         <span class="org-comment-delimiter">-- </span><span class="org-comment">AC "on" status</span>
                         , <span class="org-string">"-O"</span>  , <span class="org-string">"&lt;fn=1&gt;\xf1e6&lt;/fn&gt; &lt;left&gt;%"</span>
                         <span class="org-comment-delimiter">-- </span><span class="org-comment">charged status</span>
                         , <span class="org-string">"-i"</span>  , <span class="org-string">"&lt;fn=1&gt;\xf1e6&lt;/fn&gt; &lt;left&gt;%"</span>
                         , <span class="org-string">"--off-icon-pattern"</span>, <span class="org-string">"&lt;fn=1&gt;\xf1e6&lt;/fn&gt;"</span>
                         , <span class="org-string">"--on-icon-pattern"</span>, <span class="org-string">"&lt;fn=1&gt;\xf1e6&lt;/fn&gt;"</span>
                         ] 10
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Date</span> <span class="org-string">"&lt;fc=#268bd2&gt;&lt;fn=1&gt;\xf073&lt;/fn&gt; %a %_d %b %Y | d.%j w.%W&lt;/fc&gt;   &lt;fc=#2AA198&gt;&lt;fn=1&gt;&#61463;&lt;/fn&gt;&lt;fn=2&gt; %H:%M:%S&lt;/fn&gt;&lt;/fc&gt;"</span> <span class="org-string">"date"</span> 10
                        ]
           }

</pre>
</div>

<div class="org-src-container">
<pre class="src src-haskell">  <span class="org-haskell-constructor">Config</span> { position   <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Top</span>
           , font              <span class="org-haskell-operator">=</span> <span class="org-string">"xft:Source Code Pro:size=9:bold:antialias=true"</span>
           , additionalFonts   <span class="org-haskell-operator">=</span> [ <span class="org-string">"xft:FontAwesome:pixelsize=16:antialias=true:hinting=true:style=Bold"</span>,
                                   <span class="org-string">"xft:Noto Sans:size=10:style=Bold"</span>]
           , fgColor  <span class="org-haskell-operator">=</span> <span class="org-string">"#ffffff"</span>
           , bgColor  <span class="org-haskell-operator">=</span> <span class="org-string">"#000000"</span>
           , alpha    <span class="org-haskell-operator">=</span> 150  <span class="org-comment-delimiter">-- </span><span class="org-comment">0 transparent, 255 opaque</span>
           , sepChar  <span class="org-haskell-operator">=</span> <span class="org-string">"%"</span>
           , alignSep <span class="org-haskell-operator">=</span> <span class="org-string">"}{"</span>
           , template <span class="org-haskell-operator">=</span> <span class="org-string">" %StdinReader% }{ %cpu%  %memory%  %coretemp% %wi%  %battery% %keyb% | %date% "</span>
           , commands <span class="org-haskell-operator">=</span> [ <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">StdinReader</span>
                        <span class="org-comment-delimiter">--</span><span class="org-comment">, Run Date "%_I:%M" "time" 300 -- every 30s</span>
                        <span class="org-comment-delimiter">--</span><span class="org-comment">, Run Date "%A %_d %B" "date" 18000 -- every 30min</span>
                        <span class="org-comment-delimiter">-- </span><span class="org-comment">CPU core temperature</span>
                        , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">CoreTemp</span> [ <span class="org-string">"--template"</span> , <span class="org-string">"&lt;core0&gt;/&lt;core1&gt;&#176;C"</span>
                                       , <span class="org-string">"--Low"</span>      , <span class="org-string">"70"</span>
                                       , <span class="org-string">"--High"</span>     , <span class="org-string">"80"</span>
                                       , <span class="org-string">"--low"</span>      , <span class="org-string">"#33BB33"</span>
                                       , <span class="org-string">"--normal"</span>   , <span class="org-string">"#AA8800"</span>
                                       , <span class="org-string">"--high"</span>     , <span class="org-string">"#FF0000"</span>
                                       ] 50 <span class="org-comment-delimiter">-- </span><span class="org-comment">every 5s</span>
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Com</span> <span class="org-string">"myKbS"</span> <span class="org-haskell-constructor">[]</span> <span class="org-string">"keyb"</span> 20
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Cpu</span> [ <span class="org-string">"--template"</span>, <span class="org-string">"&lt;fc=#a9a1e1&gt;&lt;fn=1&gt;&#61573;&lt;/fn&gt;&lt;/fc&gt; &lt;total&gt;%"</span>
                                <span class="org-comment-delimiter">--</span><span class="org-comment">, "--normal","#bbc2cf"</span>
                                , <span class="org-string">"-L"</span>, <span class="org-string">"40"</span>
                                , <span class="org-string">"-H"</span>, <span class="org-string">"60"</span>
                                , <span class="org-string">"-l"</span>, <span class="org-string">"#586e75"</span>
                                , <span class="org-string">"-h"</span>, <span class="org-string">"#dc322f"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">red</span>
                                ] 50
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Memory</span> [<span class="org-string">"-t"</span>,<span class="org-string">"&lt;fc=#51afef&gt;&lt;fn=1&gt;&#62171;&lt;/fn&gt;&lt;/fc&gt; &lt;usedratio&gt;%"</span>
                                    , <span class="org-string">"-H"</span>,<span class="org-string">"80"</span>
                                    , <span class="org-string">"-L"</span>,<span class="org-string">"10"</span>
                                    , <span class="org-string">"-l"</span>, <span class="org-string">"#586e75"</span>
                                    , <span class="org-string">"-h"</span>, <span class="org-string">"#268bd2"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">blue, just to differentiate from cpu bar</span>
                                    ] 50
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Wireless</span> <span class="org-string">""</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">will match any wireless device</span>
                         [ <span class="org-string">"-a"</span>, <span class="org-string">"l"</span>
                         , <span class="org-string">"-x"</span>, <span class="org-string">"-"</span>
                         <span class="org-comment-delimiter">--</span><span class="org-comment">, "-t", "&lt;fc=#6c71c4&gt;&lt;fn=1&gt;\xf1eb&lt;/fn&gt; &lt;essid&gt; &lt;quality&gt;%&lt;/fc&gt;"</span>
                         , <span class="org-string">"-t"</span>, <span class="org-string">"&lt;fc=#6c71c4&gt;&lt;fn=1&gt;\xf1eb&lt;/fn&gt; &lt;essid&gt;&lt;/fc&gt;"</span>
                         , <span class="org-string">"-L"</span>, <span class="org-string">"50"</span>
                         , <span class="org-string">"-H"</span>, <span class="org-string">"75"</span>
                         <span class="org-comment-delimiter">-- </span><span class="org-comment">, "-l", "#dc322f" -- red</span>
                         , <span class="org-string">"-l"</span>, <span class="org-string">"#6c71c4"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">violet</span>
                         , <span class="org-string">"-n"</span>, <span class="org-string">"#6c71c4"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">violet</span>
                         , <span class="org-string">"-h"</span>, <span class="org-string">"#6c71c4"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">violet</span>
                         ] 10
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Battery</span>
                         [ <span class="org-string">"-t"</span>, <span class="org-string">"&lt;fc=#b58900&gt;&lt;acstatus&gt;&lt;/fc&gt;"</span>
                         , <span class="org-string">"-L"</span>, <span class="org-string">"20"</span>
                         , <span class="org-string">"-H"</span>, <span class="org-string">"85"</span>
                         , <span class="org-string">"-l"</span>, <span class="org-string">"#dc322f"</span>
                         , <span class="org-string">"-n"</span>, <span class="org-string">"#b58900"</span>
                         , <span class="org-string">"-h"</span>, <span class="org-string">"#b58900"</span>
                         , <span class="org-string">"--"</span> <span class="org-comment-delimiter">-- </span><span class="org-comment">battery specific options</span>
                         <span class="org-comment-delimiter">-- </span><span class="org-comment">discharging status</span>
                         , <span class="org-string">"-o"</span>  , <span class="org-string">"&lt;fn=1&gt;\xf242&lt;/fn&gt; &lt;left&gt;% (&lt;timeleft&gt;) &lt;watts&gt;"</span>
                         <span class="org-comment-delimiter">-- </span><span class="org-comment">AC "on" status</span>
                         , <span class="org-string">"-O"</span>  , <span class="org-string">"&lt;fn=1&gt;\xf1e6&lt;/fn&gt; &lt;left&gt;%"</span>
                         <span class="org-comment-delimiter">-- </span><span class="org-comment">charged status</span>
                         , <span class="org-string">"-i"</span>  , <span class="org-string">"&lt;fn=1&gt;\xf1e6&lt;/fn&gt; &lt;left&gt;%"</span>
                         , <span class="org-string">"--off-icon-pattern"</span>, <span class="org-string">"&lt;fn=1&gt;\xf1e6&lt;/fn&gt;"</span>
                         , <span class="org-string">"--on-icon-pattern"</span>, <span class="org-string">"&lt;fn=1&gt;\xf1e6&lt;/fn&gt;"</span>
                         ] 10
                       , <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">Date</span> <span class="org-string">"&lt;fc=#268bd2&gt;&lt;fn=1&gt;\xf073&lt;/fn&gt; %a %_d %b %Y | d.%j w.%W&lt;/fc&gt;   &lt;fc=#2AA198&gt;&lt;fn=1&gt;&#61463;&lt;/fn&gt;&lt;fn=2&gt; %H:%M:%S&lt;/fn&gt;&lt;/fc&gt;"</span> <span class="org-string">"date"</span> 10
                        ]
           }

</pre>
</div>


<div class="org-src-container">
<pre class="src src-haskell">  <span class="org-haskell-constructor">Config</span> { position <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">Top</span>
           , font     <span class="org-haskell-operator">=</span> <span class="org-string">"xft:Source Code Pro:size=9:bold:antialias=true"</span>
           , additionalFonts   <span class="org-haskell-operator">=</span> [ <span class="org-string">"xft:FontAwesome:pixelsize=16:antialias=true:hinting=true"</span>,
                                   <span class="org-string">"xft:Noto Sans:size=10:style=Bold"</span>]
           , fgColor <span class="org-haskell-operator">=</span> <span class="org-string">"#ffffff"</span>
           , bgColor <span class="org-haskell-operator">=</span> <span class="org-string">"#000000"</span>
           <span class="org-comment-delimiter">-- </span><span class="org-comment">, alpha = 50  -- 0 transparent, 255 opaque</span>
           , sepChar <span class="org-haskell-operator">=</span> <span class="org-string">"%"</span>
           , alignSep <span class="org-haskell-operator">=</span> <span class="org-string">"}{"</span>
           , template <span class="org-haskell-operator">=</span> <span class="org-string">" %UnsafeStdinReader% "</span>
           , commands <span class="org-haskell-operator">=</span> [ <span class="org-haskell-constructor">Run</span> <span class="org-haskell-constructor">UnsafeStdinReader</span> <span class="org-comment-delimiter">--</span><span class="org-comment">StdinReader</span>
                        ]
           }

</pre>
</div>
</div>
</div>

<div id="outline-container-org86846b7" class="outline-2">
<h2 id="org86846b7">Thanks</h2>
<div class="outline-text-2" id="text-org86846b7">
<p>
Monkey see, monkey do:
</p>

<ul class="org-ul">
<li><a href="https://github.com/pjones/xmonadrc">pjones/xmonadrc@github</a> - MyWorkspaces is based on his system, his is nicer , though</li>
<li><a href="https://github.com/altercation/dotfiles-tilingwm">Ethan Schoonover</a>, a very nice setup on Github. See also on <a href="https://www.youtube.com/watch?v=70IxjLEmomg">Youtube</a>.</li>
<li><a href="https://github.com/quarkQuark/dotfiles">QuarkQuark</a>, my setup started out as his'.</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2020-12-24 Thu 00:00</p>
<p class="author">Author: Alex Qwxlea</p>
<p class="date">Created: 2020-12-26 Sat 14:02</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
